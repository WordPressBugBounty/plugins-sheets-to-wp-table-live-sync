{"version":3,"file":"scripts/frontend/frontend.min.js","mappings":"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","sources":["webpack://google-spreadsheet-to-wp-table-sync/./assets/src/scripts/Chunk/Frontend/ai_summary.js","webpack://google-spreadsheet-to-wp-table-sync/./assets/src/scripts/Chunk/Frontend/create_tab.js","webpack://google-spreadsheet-to-wp-table-sync/./assets/src/scripts/chunk/frontend/lightbox_init.js","webpack://google-spreadsheet-to-wp-table-sync/./assets/src/scripts/chunk/frontend/table_prompt.js","webpack://google-spreadsheet-to-wp-table-sync/webpack/bootstrap","webpack://google-spreadsheet-to-wp-table-sync/./assets/src/scripts/Chunk/Frontend/common_func.js","webpack://google-spreadsheet-to-wp-table-sync/./assets/src/scripts/Chunk/Frontend/data_tables_async.js","webpack://google-spreadsheet-to-wp-table-sync/./assets/src/scripts/Chunk/Frontend/data_table_default.js"],"sourcesContent":["/**\r\n * AI Summary functionality for SWPTLS tables\r\n * Handles AI-powered table summaries with server-side pagination support\r\n * ES6 Module Version\r\n */\r\n\r\n// Define AISummary class outside jQuery ready block\r\nclass AISummary {\r\n    constructor() {\r\n        this.isGenerating = false;\r\n        this.summaryCache = new Map();\r\n        this.$ = jQuery; // Store jQuery reference\r\n        this.init();\r\n    }\r\n\r\n    init() {\r\n        this.bindEvents();\r\n    }\r\n\r\n    bindEvents() {\r\n        const $ = this.$;\r\n        \r\n        // Handle inline AI summary button clicks\r\n        $(document).on('click', '.swptls-ai-summary-btn-inline', (e) => {\r\n            e.preventDefault();\r\n            const button = $(e.currentTarget);\r\n            const tableId = button.data('table-id');\r\n            const position = button.data('position') || 'above';\r\n            const tableElement = button.closest('.gswpts_tables_container').find('table');\r\n            \r\n            if (tableId && tableElement.length) {\r\n                this.generateInlineSummary(tableId, tableElement, position);\r\n            }\r\n        });\r\n\r\n\r\n        // Handle inline summary close\r\n        $(document).on('click', '.summary-action-btn.close-btn', (e) => {\r\n            e.preventDefault();\r\n            const tableId = $(e.currentTarget).data('table-id');\r\n            this.closeInlineSummary(tableId);\r\n        });\r\n\r\n        // Handle inline summary regenerate\r\n        $(document).on('click', '.summary-action-btn.regenerate-btn', (e) => {\r\n            e.preventDefault();\r\n            const button = $(e.currentTarget);\r\n            const tableId = button.data('table-id');\r\n            \r\n            // Find the table element\r\n            let tableElement = button.closest('.gswpts_tables_container').find('table');\r\n            if (tableElement.length === 0) {\r\n                // Try alternative ways to find the table\r\n                tableElement = $(`.gswpts_tables_container[id=\"${tableId}\"] table`);\r\n                if (tableElement.length === 0) {\r\n                    tableElement = $(`.gswpts_table_${tableId} table`);\r\n                }\r\n                if (tableElement.length === 0) {\r\n                    tableElement = $(`#${tableId} table`);\r\n                }\r\n                if (tableElement.length === 0) {\r\n                    tableElement = $('.gswpts_tables_container table').first();\r\n                }\r\n            }\r\n            \r\n            // Determine position from the result container\r\n            const resultContainer = button.closest('.swptls-ai-summary-result');\r\n            const position = resultContainer.attr('id').includes('-above') ? 'above' : 'below';\r\n            \r\n            if (tableId && tableElement.length) {\r\n                this.showRegeneratingStateInline(button);\r\n                this.showRegeneratingInInline(tableId, position);\r\n                this.generateInlineSummary(tableId, tableElement, position, true); // Force regenerate\r\n            } else {\r\n                console.error('Could not find table element for regeneration');\r\n                this.showInlineSummaryError(tableId, 'Could not find table data for regeneration.');\r\n                this.hideRegeneratingStateInline(button);\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    generateInlineSummary(tableId, tableElement, position = 'above', forceRegenerate = false) {\r\n        if (this.isGenerating) {\r\n            return;\r\n        }\r\n\r\n        // Check if caching is enabled for this table\r\n        const enableCache = this.getTableSpecificSetting(tableId, 'enable_ai_cache');\r\n\r\n        // Generate cache key\r\n        let cacheKey = this.generateCacheKey(tableId, tableElement);\r\n\r\n        // If forcing regenerate, clear ALL related cache entries\r\n        if (forceRegenerate) {\r\n            this.summaryCache.delete(cacheKey);\r\n            const cacheKeys = Array.from(this.summaryCache.keys());\r\n            cacheKeys.forEach(key => {\r\n                if (key.startsWith(`ai_summary_${tableId}_`)) {\r\n                    this.summaryCache.delete(key);\r\n                }\r\n            });\r\n            cacheKey = cacheKey + '_regenerate_' + Date.now();\r\n        } else if (enableCache && this.summaryCache.has(cacheKey)) {\r\n            // Use cached summary\r\n            this.showInlineSummary(this.summaryCache.get(cacheKey), tableId, position);\r\n            return;\r\n        }\r\n\r\n        this.isGenerating = true;\r\n        this.showGeneratingProgressInline(tableId);\r\n\r\n        try {\r\n            const tableData = this.collectAllTableDataFromDataTable(tableElement);\r\n\r\n            let table_settings = null;\r\n            if (window.swptlsTableSettings && window.swptlsTableSettings[tableId]) {\r\n                table_settings = window.swptlsTableSettings[tableId];\r\n            }\r\n\r\n            const tableSettings = this.getTableSettings(tableId, table_settings);\r\n\r\n            // Send to backend for AI processing\r\n            this.requestAISummaryInline(tableId, tableData, tableSettings, cacheKey, position, forceRegenerate);\r\n        } catch (error) {\r\n            console.error('AI Summary Error:', error);\r\n            this.showInlineSummaryError(tableId, 'Failed to prepare table data for AI summary.');\r\n            this.isGenerating = false;\r\n        }\r\n    }\r\n\r\n    collectAllTableDataFromDataTable(tableElement) {\r\n        const $ = this.$;\r\n        const data = {\r\n            headers: [],\r\n            rows: [],\r\n            title: '',\r\n            totalVisibleRows: 0,\r\n            tableStructure: {}\r\n        };\r\n\r\n        // Get table title\r\n        const titleElement = tableElement.closest('.gswpts_tables_container').find('.table-title, h2, h3');\r\n        if (titleElement.length) {\r\n            data.title = titleElement.first().text().trim();\r\n        }\r\n\r\n        // Try to get DataTable instance with better error handling\r\n        let dataTable = null;\r\n        let isDataTableReady = false;\r\n\r\n        try {\r\n            // Check if DataTable is initialized and ready\r\n            if ($.fn.DataTable.isDataTable(tableElement)) {\r\n                dataTable = $(tableElement).DataTable();\r\n                // Test if DataTable is fully functional\r\n                dataTable.rows().count();\r\n                isDataTableReady = true;\r\n            }\r\n        } catch (e) {\r\n            isDataTableReady = false;\r\n        }\r\n\r\n        // Get headers with column information\r\n        const headerCells = tableElement.find('thead tr:first th, thead tr:first td');\r\n        headerCells.each((index, element) => {\r\n            const headerText = $(element).text().trim();\r\n            if (headerText) {\r\n                data.headers.push({\r\n                    index: index,\r\n                    text: headerText,\r\n                    type: this.detectColumnType(tableElement, index)\r\n                });\r\n            }\r\n        });\r\n\r\n        if (dataTable && isDataTableReady) {\r\n            // Use DataTable API to get ALL data (not just visible)\r\n            try {\r\n                const allData = dataTable.rows().data();\r\n                data.totalVisibleRows = allData.length;\r\n\r\n                // Process all rows from DataTable\r\n                allData.each((rowData) => {\r\n                    const row = [];\r\n                    for (let i = 0; i < rowData.length; i++) {\r\n                        let cellText = '';\r\n\r\n                        // Handle different data types from DataTable\r\n                        if (typeof rowData[i] === 'string') {\r\n                            cellText = rowData[i];\r\n                        } else if (rowData[i] && rowData[i].innerHTML) {\r\n                            cellText = rowData[i].innerHTML;\r\n                        } else if (rowData[i] && rowData[i].textContent) {\r\n                            cellText = rowData[i].textContent;\r\n                        } else {\r\n                            cellText = String(rowData[i] || '');\r\n                        }\r\n\r\n                        // Clean up HTML and extract text content\r\n                        const $temp = $('<div>').html(cellText);\r\n\r\n                        // Handle special content types\r\n                        const img = $temp.find('img');\r\n                        if (img.length) {\r\n                            const altText = img.attr('alt') || 'Image';\r\n                            cellText = `[Image: ${altText}]`;\r\n                        } else {\r\n                            const link = $temp.find('a');\r\n                            if (link.length && !cellText.trim()) {\r\n                                cellText = `[Link: ${link.text().trim() || 'URL'}]`;\r\n                            } else {\r\n                                cellText = $temp.text().trim();\r\n                            }\r\n                        }\r\n\r\n                        // Limit cell content length to prevent token overflow\r\n                        if (cellText.length > 100) {\r\n                            cellText = cellText.substring(0, 97) + '...';\r\n                        }\r\n                        row.push(cellText || '');\r\n                    }\r\n                    if (row.length > 0) {\r\n                        data.rows.push(row);\r\n                    }\r\n                });\r\n\r\n            } catch (e) {\r\n               // Fallback to DOM parsing\r\n                return this.collectCurrentTableData(tableElement);\r\n            }\r\n        } else {\r\n             return this.collectCurrentTableData(tableElement);\r\n        }\r\n\r\n        // Add table structure information\r\n        data.tableStructure = {\r\n            totalColumns: data.headers.length,\r\n            totalVisibleRows: data.totalVisibleRows,\r\n            sampleSize: data.rows.length,\r\n            hasImages: tableElement.find('img').length > 0,\r\n            hasLinks: tableElement.find('a').length > 0,\r\n            hasPagination: tableElement.closest('.gswpts_tables_container').find('.pagination, .load-more-btn').length > 0\r\n        };\r\n\r\n        return data;\r\n    }\r\n\r\n    collectCurrentTableData(tableElement) {\r\n        const $ = this.$;\r\n        const data = {\r\n            headers: [],\r\n            rows: [],\r\n            title: '',\r\n            totalVisibleRows: 0,\r\n            tableStructure: {}\r\n        };\r\n\r\n        // Get table title\r\n        const titleElement = tableElement.closest('.gswpts_tables_container').find('.table-title, h2, h3');\r\n        if (titleElement.length) {\r\n            data.title = titleElement.first().text().trim();\r\n        }\r\n\r\n        // Get headers with column information\r\n        const headerCells = tableElement.find('thead tr:first th, thead tr:first td');\r\n        headerCells.each((index, element) => {\r\n            const headerText = $(element).text().trim();\r\n            if (headerText) {\r\n                data.headers.push({\r\n                    index: index,\r\n                    text: headerText,\r\n                    type: this.detectColumnType(tableElement, index)\r\n                });\r\n            }\r\n        });\r\n\r\n        // Get currently visible rows (respects pagination and filters)\r\n        const visibleRows = tableElement.find('tbody tr:visible');\r\n        data.totalVisibleRows = visibleRows.length;\r\n\r\n        // Collect ALL visible rows for AI analysis - no artificial limits\r\n        // The backend will handle token limits and chunking if needed\r\n        const sampleRows = visibleRows;\r\n        sampleRows.each((index, element) => {\r\n            const row = [];\r\n            $(element).find('td').each((cellIndex, cellElement) => {\r\n                let cellText = $(cellElement).text().trim();\r\n\r\n                // Handle special content types\r\n                const img = $(cellElement).find('img');\r\n                if (img.length) {\r\n                    const altText = img.attr('alt') || 'Image';\r\n                    cellText = `[Image: ${altText}]`;\r\n                }\r\n\r\n                const link = $(cellElement).find('a');\r\n                if (link.length && !cellText) {\r\n                    cellText = `[Link: ${link.text().trim() || 'URL'}]`;\r\n                }\r\n\r\n                // Limit cell content length to prevent token overflow\r\n                if (cellText.length > 100) {\r\n                    cellText = cellText.substring(0, 97) + '...';\r\n                }\r\n\r\n                row.push(cellText || '');\r\n            });\r\n            if (row.length > 0) {\r\n                data.rows.push(row);\r\n            }\r\n        });\r\n\r\n        // Add table structure information\r\n        data.tableStructure = {\r\n            totalColumns: data.headers.length,\r\n            totalVisibleRows: data.totalVisibleRows,\r\n            sampleSize: data.rows.length,\r\n            hasImages: tableElement.find('img').length > 0,\r\n            hasLinks: tableElement.find('a').length > 0,\r\n            hasPagination: tableElement.closest('.gswpts_tables_container').find('.pagination, .load-more-btn').length > 0\r\n        };\r\n\r\n        return data;\r\n    }\r\n\r\n    detectColumnType(tableElement, columnIndex) {\r\n        const $ = this.$;\r\n        // Analyze first few cells to detect column type\r\n        const cells = tableElement.find(`tbody tr:visible td:nth-child(${columnIndex + 1})`).slice(0, 5);\r\n        let hasNumbers = 0;\r\n        let hasDates = 0;\r\n        let hasImages = 0;\r\n        let hasLinks = 0;\r\n\r\n        cells.each((index, element) => {\r\n            const text = $(element).text().trim();\r\n            if ($(element).find('img').length > 0) hasImages++;\r\n            if ($(element).find('a').length > 0) hasLinks++;\r\n            if (!isNaN(parseFloat(text)) && isFinite(text)) hasNumbers++;\r\n            if (this.isDateString(text)) hasDates++;\r\n        });\r\n\r\n        if (hasImages > 0) return 'image';\r\n        if (hasLinks > 0) return 'link';\r\n        if (hasNumbers >= cells.length * 0.6) return 'number';\r\n        if (hasDates >= cells.length * 0.6) return 'date';\r\n        return 'text';\r\n    }\r\n\r\n    isDateString(str) {\r\n        return !isNaN(Date.parse(str)) && str.match(/\\d{1,4}[-\\/]\\d{1,2}[-\\/]\\d{1,4}/);\r\n    }\r\n\r\n    sampleRows(rows, maxRows) {\r\n        const $ = this.$;\r\n\r\n        if (rows.length <= maxRows) {\r\n            return rows;\r\n        }\r\n\r\n        // Intelligent sampling: take first few, last few, and some from middle\r\n        const firstRows = Math.floor(maxRows * 0.4);\r\n        const lastRows = Math.floor(maxRows * 0.3);\r\n        const middleRows = maxRows - firstRows - lastRows;\r\n        const sampled = [];\r\n\r\n        // First rows\r\n        for (let i = 0; i < firstRows && i < rows.length; i++) {\r\n            sampled.push(rows[i]);\r\n        }\r\n\r\n        // Middle rows (evenly distributed)\r\n        if (middleRows > 0 && rows.length > firstRows + lastRows) {\r\n            const middleStart = firstRows;\r\n            const middleEnd = rows.length - lastRows;\r\n            const step = Math.floor((middleEnd - middleStart) / middleRows);\r\n\r\n            for (let i = 0; i < middleRows; i++) {\r\n                const index = middleStart + (i * step);\r\n                if (index < middleEnd) {\r\n                    sampled.push(rows[index]);\r\n                }\r\n            }\r\n        }\r\n\r\n        // Last rows\r\n        for (let i = Math.max(0, rows.length - lastRows); i < rows.length; i++) {\r\n            sampled.push(rows[i]);\r\n        }\r\n\r\n        return $(sampled);\r\n    }\r\n\r\n    getTableSettings(tableId, table_settings = null) {\r\n        const $ = this.$;\r\n        const container = $(`.gswpts_tables_container table[id*=\"${tableId}\"]`).closest('.gswpts_tables_container');\r\n\r\n        // Default AI settings\r\n        const defaultAISettings = {\r\n            show_table_prompt_fields: false,\r\n            ask_ai_placeholder: 'Ask anything about this table e.g., Top 5 products by sales',\r\n            ask_ai_button_label: 'Ask AI',\r\n            ask_ai_heading: 'Ask AI',\r\n            backend_ai_summary: '',\r\n            backend_summary_exists: false,\r\n            show_regenerate_button: false,\r\n            enable_backend_ai_trigger: false,\r\n            edit_summary_content: false,\r\n            show_summary_in_table: false,\r\n            summary_prompt: 'Give a short summary of this table (max 50 words), highlighting key takeaways and trends.',\r\n            enable_ai_cache: true,\r\n            enable_ai_summary: false\r\n        };\r\n\r\n        // If table_settings are provided as parameter (from gswpts_sheet_fetch response), use them\r\n        let tableSpecificSettings = { ...defaultAISettings };\r\n        if (table_settings) {\r\n            // Merge provided settings with defaults, giving priority to provided settings\r\n            tableSpecificSettings = {\r\n                ...defaultAISettings,\r\n                ...table_settings\r\n            };\r\n        } else {\r\n            // Fallback: Try to get from global window.swptlsTableSettings first\r\n            if (window.swptlsTableSettings && window.swptlsTableSettings[tableId]) {\r\n                tableSpecificSettings = {\r\n                    ...defaultAISettings,\r\n                    ...window.swptlsTableSettings[tableId]\r\n                };\r\n            } else {\r\n                // Last resort: Get table-specific AI settings from data-table_settings attribute\r\n                try {\r\n                    const tableSettingsJson = container.attr('data-table_settings');\r\n                    if (tableSettingsJson) {\r\n                        const tableSettings = JSON.parse(tableSettingsJson);\r\n                        tableSpecificSettings = {\r\n                            ...defaultAISettings,\r\n                            ...tableSettings\r\n                        };\r\n                    }\r\n                } catch (e) {\r\n                    console.warn('Failed to parse table settings for table:', tableId, e);\r\n                }\r\n            }\r\n        }\r\n\r\n        return {\r\n            tableId: tableId,\r\n            hasTitle: container.find('.table-title').length > 0,\r\n            hasPagination: container.find('.pagination, .load-more-btn').length > 0,\r\n            hasFilters: container.find('.dataTables_filter, .search-input').length > 0,\r\n            theme: (() => {\r\n                const className = container.attr('class');\r\n                if (className && className.match(/gswpts_style-\\d+/)) {\r\n                    const match = className.match(/gswpts_style-(\\d+)/);\r\n                    return match ? match[1] : 'default';\r\n                }\r\n                return 'default';\r\n            })(),\r\n            // Include table-specific AI settings with defaults\r\n            ai_settings: tableSpecificSettings\r\n        };\r\n    }\r\n\r\n    getTableSpecificSetting(tableId, settingKey) {\r\n        const $ = this.$;\r\n\r\n        // Default AI settings\r\n        const defaults = {\r\n            show_table_prompt_fields: false,\r\n            ask_ai_placeholder: 'Ask anything about this table e.g., Top 5 products by sales',\r\n            ask_ai_button_label: 'Ask AI',\r\n            ask_ai_heading: 'Ask AI',\r\n            backend_ai_summary: '',\r\n            backend_summary_exists: false,\r\n            show_regenerate_button: false,\r\n            enable_backend_ai_trigger: false,\r\n            edit_summary_content: false,\r\n            show_summary_in_table: false,\r\n            summary_prompt: 'Give a short summary of this table (max 50 words), highlighting key takeaways and trends.',\r\n            enable_ai_cache: true,\r\n            enable_ai_summary: false\r\n        };\r\n\r\n        // First try to get from stored table settings (preferred method)\r\n        if (window.swptlsTableSettings && window.swptlsTableSettings[tableId]) {\r\n            const table_settings = window.swptlsTableSettings[tableId];\r\n            if (table_settings.hasOwnProperty(settingKey)) {\r\n                return table_settings[settingKey];\r\n            }\r\n        }\r\n\r\n        // Fallback to parsing from DOM attribute\r\n        const container = $(`.gswpts_tables_container table[id*=\"${tableId}\"]`).closest('.gswpts_tables_container');\r\n\r\n        try {\r\n            const tableSettingsJson = container.attr('data-table_settings');\r\n            if (tableSettingsJson) {\r\n                const tableSettings = JSON.parse(tableSettingsJson);\r\n\r\n                // Return table-specific setting if it exists\r\n                if (tableSettings.hasOwnProperty(settingKey)) {\r\n                    return tableSettings[settingKey];\r\n                }\r\n            }\r\n        } catch (e) {\r\n            console.warn('Failed to parse table settings for table:', tableId, e);\r\n        }\r\n\r\n        // Return default value\r\n        return defaults[settingKey] !== undefined ? defaults[settingKey] : null;\r\n    }\r\n\r\n    \r\n\r\n    requestAISummaryInline(tableId, tableData, tableSettings, cacheKey, position, forceRegenerate = false) {\r\n        const formData = new FormData();\r\n        formData.append('action', 'gswpts_generate_ai_summary');\r\n        formData.append('table_id', tableId);\r\n        formData.append('table_data', JSON.stringify(tableData));\r\n        formData.append('table_settings', JSON.stringify(tableSettings));\r\n        formData.append('cache_key', cacheKey);\r\n        formData.append('force_regenerate', forceRegenerate ? '1' : '0');\r\n\r\n        const nonce = front_end_data?.nonce;\r\n        const ajaxUrl = front_end_data?.admin_ajax;\r\n\r\n        if (nonce) {\r\n            formData.append('nonce', nonce);\r\n        }\r\n\r\n        fetch(ajaxUrl, {\r\n            method: 'POST',\r\n            body: formData\r\n        })\r\n            .then(response => {\r\n                if (!response.ok) {\r\n                    throw new Error(`HTTP ${response.status}: ${response.statusText}`);\r\n                }\r\n                return response.json();\r\n            })\r\n            .then(data => {\r\n                if (data.success && data.data.summary) {\r\n                    const enableCache = this.getTableSpecificSetting(tableId, 'enable_ai_cache');\r\n                    if (enableCache) {\r\n                        this.summaryCache.set(cacheKey, data.data);\r\n\r\n                        if (forceRegenerate && cacheKey.includes('_regenerate_')) {\r\n                            const tableElement = this.findTableElement(tableId);\r\n                            if (tableElement && tableElement.length > 0) {\r\n                                const originalCacheKey = this.generateCacheKey(tableId, tableElement);\r\n                                this.summaryCache.set(originalCacheKey, data.data);\r\n                            }\r\n                        }\r\n                    }\r\n                    \r\n                    // Show inline summary\r\n                    this.showInlineSummary(data.data, tableId, position);\r\n                } else {\r\n                    this.showInlineSummaryError(tableId, data.data || { message: 'Failed to generate AI summary.', error_type: 'general_error' });\r\n                }\r\n            })\r\n            .catch(error => {\r\n                console.error('AI Summary Generation Error:', error);\r\n                let errorMessage = 'Network error while generating summary.';\r\n                if (error.name === 'SyntaxError') {\r\n                    errorMessage = 'Server returned an invalid response. Please try again.';\r\n                } else if (error.message && error.message.includes('fetch')) {\r\n                    errorMessage = 'Unable to connect to the server. Please check your internet connection.';\r\n                }\r\n\r\n                this.showInlineSummaryError(tableId, {\r\n                    message: errorMessage,\r\n                    error_type: 'network_error'\r\n                });\r\n            })\r\n            .finally(() => {\r\n                this.isGenerating = false;\r\n                this.hideGeneratingProgressInline(tableId);\r\n                \r\n                // Also hide regenerating state for regenerate button\r\n                const $ = this.$;\r\n                const resultContainer = $(`#swptls-ai-summary-result-${tableId}-${position}`);\r\n                const regenerateBtn = resultContainer.find('.regenerate-btn');\r\n                if (regenerateBtn.hasClass('regenerating')) {\r\n                    this.hideRegeneratingStateInline(regenerateBtn);\r\n                }\r\n            });\r\n    }\r\n\r\n    generateCacheKey(tableId, tableElement) {\r\n        // Generate a cache key based on current table state\r\n        const visibleRows = tableElement.find('tbody tr:visible').length;\r\n        const tableContent = tableElement.find('tbody').text().substring(0, 100);\r\n        const contentHash = this.simpleHash(tableContent);\r\n        return `ai_summary_${tableId}_${visibleRows}_${contentHash}`;\r\n    }\r\n\r\n    findTableElement(tableId) {\r\n        const $ = this.$;\r\n        // Try multiple ways to find the table element\r\n        let tableElement = $(`.gswpts_tables_container[id=\"${tableId}\"] table`);\r\n        if (tableElement.length === 0) {\r\n            tableElement = $(`.gswpts_table_${tableId} table`);\r\n        }\r\n        if (tableElement.length === 0) {\r\n            tableElement = $(`#${tableId} table`);\r\n        }\r\n        if (tableElement.length === 0) {\r\n            tableElement = $(`.gswpts_tables_container table[id*=\"${tableId}\"]`);\r\n        }\r\n        if (tableElement.length === 0) {\r\n            tableElement = $('.gswpts_tables_container table').first();\r\n        }\r\n        return tableElement;\r\n    }\r\n\r\n    simpleHash(str) {\r\n        let hash = 0;\r\n        for (let i = 0; i < str.length; i++) {\r\n            const char = str.charCodeAt(i);\r\n            hash = ((hash << 5) - hash) + char;\r\n            hash = hash & hash; // Convert to 32-bit integer\r\n        }\r\n        return Math.abs(hash).toString(36);\r\n    }\r\n\r\n    showGeneratingProgress(tableId) {\r\n        const $ = this.$;\r\n        const button = $(`.swptls-ai-summary-btn[data-table-id=\"${tableId}\"]`);\r\n\r\n        // Store the original button HTML for restoration later\r\n        if (!button.data('original-html')) {\r\n            button.data('original-html', button.html());\r\n        }\r\n\r\n        button.prop('disabled', true)\r\n            .addClass('generating')\r\n            .html(`\r\n                    <span class=\"ai-icon\">\r\n                            <svg class=\"fWWlmf JzISke\" height=\"24\" width=\"24\" aria-hidden=\"true\" viewBox=\"0 0 471 471\" xmlns=\"http://www.w3.org/2000/svg\"><path fill=\"var(--m3c23)\" d=\"M235.5 471C235.5 438.423 229.22 407.807 216.66 379.155C204.492 350.503 187.811 325.579 166.616 304.384C145.421 283.189 120.498 266.508 91.845 254.34C63.1925 241.78 32.5775 235.5 0 235.5C32.5775 235.5 63.1925 229.416 91.845 217.249C120.498 204.689 145.421 187.811 166.616 166.616C187.811 145.421 204.492 120.497 216.66 91.845C229.22 63.1925 235.5 32.5775 235.5 0C235.5 32.5775 241.584 63.1925 253.751 91.845C266.311 120.497 283.189 145.421 304.384 166.616C325.579 187.811 350.503 204.689 379.155 217.249C407.807 229.416 438.423 235.5 471 235.5C438.423 235.5 407.807 241.78 379.155 254.34C350.503 266.508 325.579 283.189 304.384 304.384C283.189 325.579 266.311 350.503 253.751 379.155C241.584 407.807 235.5 438.423 235.5 471Z\"></path>\r\n                            </svg>\r\n                        </span>\r\n                    <span class=\"button-text\">Generating...</span>\r\n                `);\r\n    }\r\n\r\n    hideGeneratingProgress(tableId) {\r\n        const $ = this.$;\r\n        const button = $(`.swptls-ai-summary-btn[data-table-id=\"${tableId}\"]`);\r\n\r\n        // Restore the original button HTML if it was stored\r\n        const originalHtml = button.data('original-html');\r\n\r\n        if (originalHtml) {\r\n            button.prop('disabled', false)\r\n                .removeClass('generating')\r\n                .html(originalHtml);\r\n        } else {\r\n            // Fallback to default if original HTML wasn't stored\r\n            button.prop('disabled', false)\r\n                .removeClass('generating')\r\n                .html(`\r\n                        <span class=\"ai-icon\">\r\n                                <svg class=\"fWWlmf JzISke\" height=\"24\" width=\"24\" aria-hidden=\"true\" viewBox=\"0 0 471 471\" xmlns=\"http://www.w3.org/2000/svg\"><path fill=\"var(--m3c23)\" d=\"M235.5 471C235.5 438.423 229.22 407.807 216.66 379.155C204.492 350.503 187.811 325.579 166.616 304.384C145.421 283.189 120.498 266.508 91.845 254.34C63.1925 241.78 32.5775 235.5 0 235.5C32.5775 235.5 63.1925 229.416 91.845 217.249C120.498 204.689 145.421 187.811 166.616 166.616C187.811 145.421 204.492 120.497 216.66 91.845C229.22 63.1925 235.5 32.5775 235.5 0C235.5 32.5775 241.584 63.1925 253.751 91.845C266.311 120.497 283.189 145.421 304.384 166.616C325.579 187.811 350.503 204.689 379.155 217.249C407.807 229.416 438.423 235.5 471 235.5C438.423 235.5 407.807 241.78 379.155 254.34C350.503 266.508 325.579 283.189 304.384 304.384C283.189 325.579 266.311 350.503 253.751 379.155C241.584 407.807 235.5 438.423 235.5 471Z\"></path>\r\n                                </svg>\r\n                            </span>\r\n                        <span class=\"button-text hint-icon\" title=\"Click to generate an intelligent summary of the table data using AI\">AI Summary</span>\r\n                    `);\r\n        }\r\n    }\r\n\r\n    \r\n    formatSummary(summary) {\r\n        // Convert markdown-like formatting to HTML\r\n        return summary\r\n            .replace(/\\*\\*(.*?)\\*\\*/g, '<strong>$1</strong>')\r\n            .replace(/\\*(.*?)\\*/g, '<em>$1</em>')\r\n            .replace(/\\n\\n/g, '</p><p>')\r\n            .replace(/\\n/g, '<br>')\r\n            .replace(/^/, '<p>')\r\n            .replace(/$/, '</p>');\r\n    }\r\n\r\n    formatDate(dateString) {\r\n        if (!dateString) return 'Just now';\r\n        const date = new Date(dateString);\r\n        const now = new Date();\r\n        const diffMs = now - date;\r\n        const diffMins = Math.floor(diffMs / 60000);\r\n\r\n        if (diffMins < 1) return 'Just now';\r\n        if (diffMins < 60) return `${diffMins} minutes ago`;\r\n        if (diffMins < 1440) return `${Math.floor(diffMins / 60)} hours ago`;\r\n        return date.toLocaleDateString();\r\n    }\r\n\r\n\r\n    // New inline summary methods\r\n    showInlineSummary(summaryData, tableId, position) {\r\n        const $ = this.$;\r\n        // Find the correct result container based on position\r\n        const resultContainer = $(`#swptls-ai-summary-result-${tableId}-${position}`);\r\n\r\n        if (resultContainer.length === 0) {\r\n            console.error('Could not find result container for table:', tableId, 'position:', position);\r\n            return;\r\n        }\r\n\r\n        const { summary } = summaryData;\r\n        \r\n        // Update content\r\n        resultContainer.find('.summary-content').html(this.formatSummary(summary));\r\n        \r\n        // Check if regenerate button should be shown based on table settings\r\n        const showRegenerateButton = this.getTableSpecificSetting(tableId, 'show_regenerate_button');\r\n        const regenerateBtn = resultContainer.find('.regenerate-btn');\r\n        \r\n        if (showRegenerateButton) {\r\n            regenerateBtn.addClass('show').show().html(`\r\n                <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\r\n                    <path d=\"M21.5 2v6h-6M2.5 22v-6h6M2 11.5a10 10 0 0 1 18.8-4.3M22 12.5a10 10 0 0 1-18.8 4.2\"/>\r\n                </svg>\r\n            `);\r\n        } else {\r\n            regenerateBtn.removeClass('show').hide();\r\n        }\r\n        \r\n        // Show the result container\r\n        resultContainer.slideDown(400, () => {\r\n            // Scroll to the result based on position\r\n            if (position === 'below') {\r\n                // Find the scroll target for this table\r\n                const scrollTarget = $(`#swptls-ai-summary-scroll-target-${tableId}`);\r\n                if (scrollTarget.length > 0) {\r\n                    // Scroll to the scroll target (which is just above the result)\r\n                    $('html, body').animate({\r\n                        scrollTop: scrollTarget.offset().top - 20\r\n                    }, 500);\r\n                } else {\r\n                    // Fallback: scroll to the result container itself\r\n                    $('html, body').animate({\r\n                        scrollTop: resultContainer.offset().top - 20\r\n                    }, 500);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    closeInlineSummary(tableId) {\r\n        const $ = this.$;\r\n        // Close both above and below result containers for this table\r\n        const resultContainerAbove = $(`#swptls-ai-summary-result-${tableId}-above`);\r\n        const resultContainerBelow = $(`#swptls-ai-summary-result-${tableId}-below`);\r\n        \r\n        resultContainerAbove.slideUp(300);\r\n        resultContainerBelow.slideUp(300);\r\n    }\r\n\r\n    showGeneratingProgressInline(tableId) {\r\n        const $ = this.$;\r\n        const button = $(`.swptls-ai-summary-btn-inline[data-table-id=\"${tableId}\"]`);\r\n        const position = button.data('position') || 'above';\r\n        const resultContainer = $(`#swptls-ai-summary-result-${tableId}-${position}`);\r\n\r\n        // Store original button content\r\n        if (!button.data('original-html')) {\r\n            button.data('original-html', button.html());\r\n        }\r\n\r\n        // Update button to show generating state\r\n        button.prop('disabled', true)\r\n            .addClass('generating')\r\n            .html(`\r\n                <svg class=\"spinner\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\r\n                    <circle cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"2\" fill=\"none\" stroke-dasharray=\"31.416\" stroke-dashoffset=\"31.416\">\r\n                        <animate attributeName=\"stroke-dasharray\" dur=\"2s\" values=\"0 31.416;15.708 15.708;0 31.416\" repeatCount=\"indefinite\"/>\r\n                        <animate attributeName=\"stroke-dashoffset\" dur=\"2s\" values=\"0;-15.708;-31.416\" repeatCount=\"indefinite\"/>\r\n                    </circle>\r\n                </svg>\r\n                <span class=\"button-text\">Generating...</span>\r\n            `);\r\n\r\n        // Show result container with loading message\r\n        if (resultContainer.length > 0) {\r\n            resultContainer.find('.summary-content').html(`\r\n                <div class=\"generating-message\">\r\n                    <div class=\"loading-spinner\">\r\n                        <svg class=\"spinner\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\r\n                            <circle cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"2\" fill=\"none\" stroke-dasharray=\"31.416\" stroke-dashoffset=\"31.416\">\r\n                                <animate attributeName=\"stroke-dasharray\" dur=\"2s\" values=\"0 31.416;15.708 15.708;0 31.416\" repeatCount=\"indefinite\"/>\r\n                                <animate attributeName=\"stroke-dashoffset\" dur=\"2s\" values=\"0;-15.708;-31.416\" repeatCount=\"indefinite\"/>\r\n                            </circle>\r\n                        </svg>\r\n                    </div>\r\n                    <p>Analyzing table data and generating AI summary...</p>\r\n                </div>\r\n            `);\r\n            \r\n            resultContainer.slideDown(300);\r\n        }\r\n    }\r\n\r\n    hideGeneratingProgressInline(tableId) {\r\n        const $ = this.$;\r\n        const button = $(`.swptls-ai-summary-btn-inline[data-table-id=\"${tableId}\"]`);\r\n        \r\n        // Restore original button content\r\n        const originalHtml = button.data('original-html');\r\n        if (originalHtml) {\r\n            button.prop('disabled', false)\r\n                .removeClass('generating')\r\n                .html(originalHtml);\r\n        }\r\n    }\r\n\r\n    showRegeneratingStateInline(button) {\r\n        const $ = this.$;\r\n        button.prop('disabled', true)\r\n            .addClass('regenerating')\r\n            .html(`\r\n                <svg class=\"spinner\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\r\n                    <circle cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"2\" fill=\"none\" stroke-dasharray=\"31.416\" stroke-dashoffset=\"31.416\">\r\n                        <animate attributeName=\"stroke-dasharray\" dur=\"2s\" values=\"0 31.416;15.708 15.708;0 31.416\" repeatCount=\"indefinite\"/>\r\n                        <animate attributeName=\"stroke-dashoffset\" dur=\"2s\" values=\"0;-15.708;-31.416\" repeatCount=\"indefinite\"/>\r\n                    </circle>\r\n                </svg>\r\n            `);\r\n    }\r\n\r\n    hideRegeneratingStateInline(button) {\r\n        const $ = this.$;\r\n        button.prop('disabled', false)\r\n            .removeClass('regenerating')\r\n            .html(`\r\n                <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\r\n                    <path d=\"M21.5 2v6h-6M2.5 22v-6h6M2 11.5a10 10 0 0 1 18.8-4.3M22 12.5a10 10 0 0 1-18.8 4.2\"/>\r\n                </svg>\r\n            `);\r\n    }\r\n\r\n    showRegeneratingInInline(tableId, position) {\r\n        const $ = this.$;\r\n        const resultContainer = $(`#swptls-ai-summary-result-${tableId}-${position}`);\r\n        if (resultContainer.length) {\r\n            resultContainer.find('.summary-content').html(`\r\n                <div class=\"regenerating-message\">\r\n                    <div class=\"loading-spinner\">\r\n                        <svg class=\"spinner\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\r\n                            <circle cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"2\" fill=\"none\" stroke-dasharray=\"31.416\" stroke-dashoffset=\"31.416\">\r\n                                <animate attributeName=\"stroke-dasharray\" dur=\"2s\" values=\"0 31.416;15.708 15.708;0 31.416\" repeatCount=\"indefinite\"/>\r\n                                <animate attributeName=\"stroke-dashoffset\" dur=\"2s\" values=\"0;-15.708;-31.416\" repeatCount=\"indefinite\"/>\r\n                            </circle>\r\n                        </svg>\r\n                    </div>\r\n                    <h3>Regenerating AI Summary...</h3>\r\n                    <p>Analyzing current table data and generating a fresh summary. This may take a few moments.</p>\r\n                </div>\r\n            `);\r\n        }\r\n    }\r\n\r\n    showInlineSummaryError(tableId, errorData) {\r\n        const $ = this.$;\r\n        const button = $(`.swptls-ai-summary-btn-inline[data-table-id=\"${tableId}\"]`);\r\n        const position = button.data('position') || 'above';\r\n        const resultContainer = $(`#swptls-ai-summary-result-${tableId}-${position}`);\r\n        \r\n        let message = '';\r\n        if (typeof errorData === 'string') {\r\n            message = errorData;\r\n        } else if (errorData && typeof errorData === 'object') {\r\n            message = errorData.message || 'Failed to generate AI summary.';\r\n        } else {\r\n            message = 'Failed to generate AI summary.';\r\n        }\r\n\r\n        // Show error in result container\r\n        if (resultContainer.length > 0) {\r\n            resultContainer.find('.summary-content').html(`\r\n                <div class=\"error-message\">\r\n                    <div class=\"error-icon\"></div>\r\n                    <p>${message}</p>\r\n                </div>\r\n            `);\r\n            \r\n            resultContainer.slideDown(300);\r\n        }\r\n    }\r\n}\r\n\r\n// Initialize the AI Summary system\r\nconst aiSummary = new AISummary();\r\n\r\n// Make it globally available for other scripts\r\nwindow.swptlsAISummary = aiSummary;\r\n","jQuery(document).ready(function ($) {\r\n    class ManageTab {\r\n        constructor() {\r\n            this.events();\r\n            this.showFirstTabContent();\r\n        }\r\n        events() {\r\n            var buttons = $('.tab_hidden_input');\r\n\r\n            buttons.each(function () {\r\n                $(this).on(\"click\", function (e) {\r\n                    let target = e.currentTarget;\r\n\r\n                    $(target)\r\n                        .parents(\".tabs_container\")\r\n                        .find(`.tab_contents .tab-content`)\r\n                        .removeClass(\"active\");\r\n\r\n                    let inputID = $(target).data(\"id\");\r\n\r\n                    $(`#${inputID}`).addClass('active');\r\n                });\r\n            })\r\n        }\r\n\r\n        showContent(e) {\r\n            target\r\n                .parents(\".tab_bottom_side\")\r\n                .find(`.tab_contents .tab-content`)\r\n                .removeClass(\"active\");\r\n\r\n            let inputID = target.attr(\"id\").match(/(\\d+)/)[0];\r\n\r\n            target\r\n                .parents(\".tab_bottom_side\")\r\n                .find(`.tab_contents #tab-content${inputID}`)\r\n                .addClass(\"active\");\r\n        }\r\n\r\n        // Add checked in tabs and get the design.\r\n          showFirstTabContent() {\r\n            $(\".tabs_container\").each(function () {\r\n              $(this)\r\n                .find(\".tab_hidden_input:first\")\r\n                .prop(\"checked\", true);\r\n            });\r\n          }\r\n\r\n    }\r\n    new ManageTab();\r\n});\r\n","/**\r\n * Image Lightbox functionality for SWPTLS tables\r\n * Handles click events on images with lightbox support\r\n */\r\n\r\njQuery(document).ready(function ($) {\r\n    class ImageLightbox {\r\n        constructor() {\r\n            this.lightboxId = 'swptls-image-lightbox';\r\n            this.isOpen = false;\r\n            this.currentImage = null;\r\n\r\n            this.init();\r\n        }\r\n\r\n        init() {\r\n            this.createLightboxHTML();\r\n            this.bindEvents();\r\n        }\r\n\r\n        createLightboxHTML() {\r\n            // Remove existing lightbox if any\r\n            $('#' + this.lightboxId).remove();\r\n\r\n            const lightboxHTML = `\r\n                <div id=\"${this.lightboxId}\" class=\"swptls-lightbox-overlay\" style=\"display: none;\">\r\n                    <div class=\"swptls-lightbox-container\">\r\n                        <div class=\"swptls-lightbox-header\">\r\n                            <button class=\"swptls-lightbox-close\" aria-label=\"Close lightbox\">\r\n                                <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\r\n                                    <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\"></line>\r\n                                    <line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\"></line>\r\n                                </svg>\r\n                            </button>\r\n                        </div>\r\n                        <div class=\"swptls-lightbox-content\">\r\n                            <img class=\"swptls-lightbox-image\" src=\"\" alt=\"Lightbox Image\" />\r\n                            <div class=\"swptls-lightbox-loading\">\r\n                                <div class=\"swptls-spinner\"></div>\r\n                                <span>Loading image...</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            `;\r\n\r\n            $('body').append(lightboxHTML);\r\n        }\r\n\r\n        bindEvents() {\r\n            const self = this;\r\n\r\n            // Handle clicks on lightbox images - ONLY in table cells, NOT in buttons\r\n            $(document).on('click', 'td .swptls-lightbox-image[data-lightbox-src]', function (e) {\r\n                if ($(this).closest('button, .dt-button, .dt-buttons, .dataTables_wrapper .dt-button').length > 0) {\r\n                    return;\r\n                }\r\n                \r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n\r\n                const imageSrc = $(this).attr('data-lightbox-src');\r\n                if (imageSrc) {\r\n                    self.openLightbox(imageSrc);\r\n                }\r\n            });\r\n\r\n            // Close lightbox events\r\n            $(document).on('click', '#' + this.lightboxId + ' .swptls-lightbox-close', function (e) {\r\n                e.preventDefault();\r\n                self.closeLightbox();\r\n            });\r\n\r\n            // Close on overlay click\r\n            $(document).on('click', '#' + this.lightboxId + ' .swptls-lightbox-overlay', function (e) {\r\n                if (e.target === this) {\r\n                    self.closeLightbox();\r\n                }\r\n            });\r\n\r\n            // Close on escape key\r\n            $(document).on('keydown', function (e) {\r\n                if (e.key === 'Escape' && self.isOpen) {\r\n                    self.closeLightbox();\r\n                }\r\n            });\r\n\r\n            // Prevent scrolling when lightbox is open\r\n            $(document).on('wheel touchmove', '#' + this.lightboxId, function (e) {\r\n                if (self.isOpen) {\r\n                    e.preventDefault();\r\n                }\r\n            });\r\n        }\r\n\r\n        openLightbox(imageSrc) {\r\n            const $lightbox = $('#' + this.lightboxId);\r\n            const $lightboxImage = $lightbox.find('.swptls-lightbox-image');\r\n            const $loading = $lightbox.find('.swptls-lightbox-loading');\r\n\r\n            this.isOpen = true;\r\n            this.currentImage = imageSrc;\r\n\r\n            // Show lightbox and loading state\r\n            $lightbox.fadeIn(300);\r\n            $loading.show();\r\n            $lightboxImage.hide();\r\n\r\n            // Prevent body scrolling\r\n            $('body').addClass('swptls-lightbox-open');\r\n\r\n            // Load the image\r\n            const img = new Image();\r\n\r\n            img.onload = () => {\r\n                $lightboxImage.attr('src', imageSrc);\r\n                $loading.hide();\r\n                $lightboxImage.fadeIn(300);\r\n            };\r\n\r\n            img.onerror = () => {\r\n                $loading.html('<span style=\"color: #ff6b6b;\">Failed to load image</span>');\r\n                setTimeout(() => {\r\n                    this.closeLightbox();\r\n                }, 2000);\r\n            };\r\n\r\n            img.src = imageSrc;\r\n        }\r\n\r\n        closeLightbox() {\r\n            const $lightbox = $('#' + this.lightboxId);\r\n\r\n            this.isOpen = false;\r\n            this.currentImage = null;\r\n\r\n            // Hide lightbox\r\n            $lightbox.fadeOut(300);\r\n\r\n            // Restore body scrolling\r\n            $('body').removeClass('swptls-lightbox-open');\r\n\r\n            // Reset image\r\n            setTimeout(() => {\r\n                $lightbox.find('.swptls-lightbox-image').attr('src', '').hide();\r\n                $lightbox.find('.swptls-lightbox-loading').show();\r\n            }, 300);\r\n        }\r\n\r\n        // Method to reinitialize for dynamically loaded content\r\n        reinitialize() {\r\n            console.log('ImageLightbox: Reinitialized for new content');\r\n        }\r\n    }\r\n\r\n    // Initialize the lightbox\r\n    const lightbox = new ImageLightbox();\r\n\r\n    // Make it globally available for other scripts to reinitialize if needed\r\n    window.swptlsImageLightbox = lightbox;\r\n});","/**\r\n * Table Prompt functionality for SWPTLS tables\r\n * Handles user prompt inputs and AI responses directly in table modals\r\n */\r\n\r\n// Define TablePrompt class outside jQuery ready block\r\nclass TablePrompt {\r\n    constructor() {\r\n        this.isProcessing = false;\r\n        this.promptCache = new Map();\r\n        this.$ = jQuery; // Store jQuery reference\r\n        this.init();\r\n    }\r\n\r\n    // Method to safely check if DataTable is ready\r\n    isDataTableReady(tableElement) {\r\n        const $ = this.$;\r\n        try {\r\n            if (!$.fn.DataTable.isDataTable(tableElement)) {\r\n                return false;\r\n            }\r\n            const dt = $(tableElement).DataTable();\r\n            if (!dt || !dt.settings || dt.settings().length === 0) {\r\n                return false;\r\n            }\r\n            // Test basic functionality\r\n            dt.rows().count();\r\n            return true;\r\n        } catch (e) {\r\n            // console.log('Table Prompt: DataTable readiness check failed:', e.message);\r\n            return false;\r\n        }\r\n    }\r\n\r\n    init() {\r\n        this.bindEvents();\r\n    }\r\n\r\n    bindEvents() {\r\n        const $ = this.$;\r\n\r\n        // Prevent multiple event bindings\r\n        if (window.swptlsTablePromptEventsbound) {\r\n            return;\r\n        }\r\n        window.swptlsTablePromptEventsbound = true;\r\n\r\n        // Handle prompt input submission\r\n        $(document).on('click', '.swptls-prompt-send-btn', (e) => {\r\n            e.preventDefault();\r\n            e.stopPropagation(); // Prevent event bubbling\r\n\r\n            const tableId = $(e.currentTarget).data('table-id');\r\n            const container = $(e.currentTarget).closest('.gswpts_tables_container');\r\n            const promptInput = container.find('.swptls-prompt-input');\r\n            const promptText = promptInput.val().trim();\r\n\r\n            if (!promptText) {\r\n                this.showNotification('Please enter a prompt first', 'warning');\r\n                return;\r\n            }\r\n\r\n            const tableElement = container.find('table');\r\n            if (tableId && tableElement.length) {\r\n                this.processPrompt(tableId, promptText, tableElement, container);\r\n            }\r\n        });\r\n\r\n        // Handle Enter key in prompt input\r\n        $(document).on('keypress', '.swptls-prompt-input', (e) => {\r\n            if (e.which === 13) { // Enter key\r\n                e.preventDefault();\r\n                e.stopPropagation(); // Prevent event bubbling\r\n                const sendBtn = $(e.currentTarget).closest('.swptls-prompt-interface').find('.swptls-prompt-send-btn');\r\n                sendBtn.click();\r\n            }\r\n        });\r\n\r\n        // Handle clear response button\r\n        $(document).on('click', '.swptls-prompt-clear-btn', (e) => {\r\n            e.preventDefault();\r\n            e.stopPropagation(); // Prevent event bubbling\r\n            const container = $(e.currentTarget).closest('.gswpts_tables_container');\r\n            this.clearPromptResponse(container);\r\n        });\r\n    }\r\n\r\n    updatePromptInterface(container, placeholder, buttonLabel, heading) {\r\n        const $ = this.$;\r\n\r\n        if (!container || !container.length) {\r\n            console.warn('Table Prompt: Invalid container provided for interface update');\r\n            return;\r\n        }\r\n\r\n        const prompHeading = container.find('.swptls-prompt-heading');\r\n        \r\n        // Update placeholder text if prompt input exists - Need with backend - rest can ignore like promptButton or heading\r\n        const promptInput = container.find('.swptls-prompt-input');\r\n        if (promptInput.length && placeholder) {\r\n            promptInput.attr('placeholder', placeholder);\r\n            // console.log(`Table Prompt: Updated placeholder to \"${placeholder}\"`);\r\n        }\r\n\r\n        // Update button label if prompt button exists\r\n        const promptButton = container.find('.swptls-prompt-send-btn .button-text');\r\n        if (promptButton.length && buttonLabel) {\r\n            promptButton.text(buttonLabel);\r\n            // console.log(`Table Prompt: Updated button label to \"${buttonLabel}\"`);\r\n        }\r\n    }\r\n\r\n    getTableSetting(container, settingKey) {\r\n        const $ = this.$;\r\n\r\n        try {\r\n            const tableSettingsJson = container.attr('data-table_settings');\r\n            if (tableSettingsJson) {\r\n                const tableSettings = JSON.parse(tableSettingsJson);\r\n\r\n                // Return table-specific setting if it exists\r\n                if (tableSettings.hasOwnProperty(settingKey)) {\r\n                    return tableSettings[settingKey];\r\n                }\r\n            }\r\n        } catch (e) {\r\n            console.warn('Failed to parse table settings:', e);\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    processPrompt(tableId, promptText, tableElement, container) {\r\n        if (this.isProcessing) {\r\n            return;\r\n        }\r\n\r\n        // Safety check: ensure DataTable is ready before processing\r\n        if (!this.isDataTableReady(tableElement)) {\r\n            // console.log('Table Prompt: DataTable not ready, will use DOM parsing only');\r\n        }\r\n\r\n        this.isProcessing = true;\r\n        this.showProcessingState(container);\r\n\r\n        try {\r\n            // Collect all table data similar to AI summary\r\n            const tableData = this.collectCurrentTableData(tableElement);\r\n\r\n            // Get table settings\r\n            const tableSettings = this.getTableSettings(tableId, container);\r\n\r\n            // Send to backend for AI processing\r\n            this.requestAIPromptResponse(tableId, promptText, tableData, tableSettings, container);\r\n        } catch (error) {\r\n            console.error('Table Prompt Error:', error);\r\n            this.showError(container, 'Failed to prepare table data for AI prompt.');\r\n            this.isProcessing = false;\r\n        }\r\n    }\r\n\r\n    collectCurrentTableData(tableElement) {\r\n        const $ = this.$;\r\n        const data = {\r\n            headers: [],\r\n            rows: [],\r\n            title: '',\r\n            totalVisibleRows: 0\r\n        };\r\n\r\n        // Get table title\r\n        const titleElement = tableElement.closest('.gswpts_tables_container').find('.table-title, h2, h3');\r\n        if (titleElement.length) {\r\n            data.title = titleElement.first().text().trim();\r\n        }\r\n\r\n        // Try to get DataTable instance with better error handling (same as AI Summary)\r\n        let dataTable = null;\r\n        let isDataTableReady = this.isDataTableReady(tableElement);\r\n\r\n        if (isDataTableReady) {\r\n            try {\r\n                dataTable = $(tableElement).DataTable();\r\n                // console.log('Table Prompt: DataTable instance found and ready');\r\n            } catch (e) {\r\n                // console.log('Table Prompt: Error getting DataTable instance:', e.message);\r\n                isDataTableReady = false;\r\n            }\r\n        }\r\n\r\n        // Get headers\r\n        const headerCells = tableElement.find('thead tr:first th, thead tr:first td');\r\n        headerCells.each((index, element) => {\r\n            const headerText = $(element).text().trim();\r\n            if (headerText) {\r\n                data.headers.push(headerText);\r\n            }\r\n        });\r\n\r\n        if (dataTable && isDataTableReady) {\r\n            // Use DataTable API to get ALL data\r\n            try {\r\n                const allData = dataTable.rows().data();\r\n                data.totalVisibleRows = allData.length;\r\n\r\n                // Process all rows from DataTable\r\n                allData.each((rowData) => {\r\n                    const row = [];\r\n                    for (let i = 0; i < rowData.length; i++) {\r\n                        let cellText = '';\r\n\r\n                        // Handle different data types from DataTable\r\n                        if (typeof rowData[i] === 'string') {\r\n                            cellText = rowData[i];\r\n                        } else if (rowData[i] && rowData[i].innerHTML) {\r\n                            cellText = rowData[i].innerHTML;\r\n                        } else if (rowData[i] && rowData[i].textContent) {\r\n                            cellText = rowData[i].textContent;\r\n                        } else {\r\n                            cellText = String(rowData[i] || '');\r\n                        }\r\n\r\n                        // Clean up HTML and extract text content\r\n                        const $temp = $('<div>').html(cellText);\r\n                        cellText = $temp.text().trim();\r\n\r\n                        // Limit cell content length to prevent token overflow\r\n                        if (cellText.length > 100) {\r\n                            cellText = cellText.substring(0, 97) + '...';\r\n                        }\r\n                        row.push(cellText || '');\r\n                    }\r\n                    if (row.length > 0) {\r\n                        data.rows.push(row);\r\n                    }\r\n                });\r\n            } catch (e) {\r\n                return this.collectVisibleTableData(tableElement);\r\n            }\r\n        } else {\r\n            // Fallback to DOM parsing if DataTable not available\r\n            // console.log('Table Prompt: Using DOM parsing as fallback');\r\n            return this.collectVisibleTableData(tableElement);\r\n        }\r\n\r\n        return data;\r\n    }\r\n\r\n    collectVisibleTableData(tableElement) {\r\n        const $ = this.$;\r\n        const data = {\r\n            headers: [],\r\n            rows: [],\r\n            title: '',\r\n            totalVisibleRows: 0\r\n        };\r\n\r\n        // Get table title\r\n        const titleElement = tableElement.closest('.gswpts_tables_container').find('.table-title, h2, h3');\r\n        if (titleElement.length) {\r\n            data.title = titleElement.first().text().trim();\r\n        }\r\n\r\n        // Get headers\r\n        const headerCells = tableElement.find('thead tr:first th, thead tr:first td');\r\n        headerCells.each((index, element) => {\r\n            const headerText = $(element).text().trim();\r\n            if (headerText) {\r\n                data.headers.push(headerText);\r\n            }\r\n        });\r\n\r\n        // Get currently visible rows\r\n        const visibleRows = tableElement.find('tbody tr:visible');\r\n        data.totalVisibleRows = visibleRows.length;\r\n\r\n        // Collect visible rows for AI analysis\r\n        visibleRows.each((index, element) => {\r\n            const row = [];\r\n            $(element).find('td').each((cellIndex, cellElement) => {\r\n                let cellText = $(cellElement).text().trim();\r\n\r\n                // Limit cell content length to prevent token overflow\r\n                if (cellText.length > 100) {\r\n                    cellText = cellText.substring(0, 97) + '...';\r\n                }\r\n\r\n                row.push(cellText || '');\r\n            });\r\n            if (row.length > 0) {\r\n                data.rows.push(row);\r\n            }\r\n        });\r\n\r\n        return data;\r\n    }\r\n\r\n    getTableSettings(tableId, container) {\r\n        const $ = this.$;\r\n\r\n        return {\r\n            tableId: tableId,\r\n            hasTitle: container.find('.table-title').length > 0,\r\n            hasPagination: container.find('.pagination, .load-more-btn').length > 0,\r\n            hasFilters: container.find('.dataTables_filter, .search-input').length > 0,\r\n            theme: (() => {\r\n                const className = container.attr('class');\r\n                if (className && className.match(/gswpts_style-\\d+/)) {\r\n                    const match = className.match(/gswpts_style-(\\d+)/);\r\n                    return match ? match[1] : 'default';\r\n                }\r\n                return 'default';\r\n            })()\r\n        };\r\n    }\r\n\r\n    requestAIPromptResponse(tableId, promptText, tableData, tableSettings, container) {\r\n        const formData = new FormData();\r\n        formData.append('action', 'gswpts_process_table_prompt');\r\n        formData.append('table_id', tableId);\r\n        formData.append('prompt_text', promptText);\r\n        formData.append('table_data', JSON.stringify(tableData));\r\n        formData.append('table_settings', JSON.stringify(tableSettings));\r\n\r\n        // Add nonce if available\r\n        const nonce = front_end_data?.nonce;\r\n        const ajaxUrl = front_end_data?.admin_ajax;\r\n\r\n        if (nonce) {\r\n            formData.append('nonce', nonce);\r\n        }\r\n\r\n        fetch(ajaxUrl, {\r\n            method: 'POST',\r\n            body: formData\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                if (data.success && data.data.response) {\r\n                    this.showPromptResponse(container, data.data, promptText);\r\n                } else {\r\n                    this.showError(container, data.data || 'Failed to process AI prompt.');\r\n                }\r\n            })\r\n            .catch(error => {\r\n                console.error('AI Prompt Processing Error:', error);\r\n                this.showError(container, 'Network error while processing prompt.');\r\n            })\r\n            .finally(() => {\r\n                this.isProcessing = false;\r\n                this.hideProcessingState(container);\r\n            });\r\n    }\r\n\r\n    showProcessingState(container) {\r\n        const $ = this.$;\r\n        const sendBtn = container.find('.swptls-prompt-send-btn');\r\n\r\n        sendBtn.prop('disabled', true)\r\n            .addClass('processing')\r\n            .html(`\r\n                    <svg class=\"spinner\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\r\n                        <circle cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"2\" fill=\"none\" stroke-dasharray=\"31.416\" stroke-dashoffset=\"31.416\">\r\n                            <animate attributeName=\"stroke-dasharray\" dur=\"2s\" values=\"0 31.416;15.708 15.708;0 31.416\" repeatCount=\"indefinite\"/>\r\n                            <animate attributeName=\"stroke-dashoffset\" dur=\"2s\" values=\"0;-15.708;-31.416\" repeatCount=\"indefinite\"/>\r\n                        </circle>\r\n                    </svg>\r\n                    <span class=\"button-text\">Processing...</span>\r\n                `);\r\n    }\r\n\r\n    hideProcessingState(container) {\r\n        const $ = this.$;\r\n        const sendBtn = container.find('.swptls-prompt-send-btn');\r\n\r\n        // Get the custom button label from data attributes or use default\r\n        const customButtonLabel = container.data('ask-ai-button-label') || 'Ask AI';\r\n\r\n        sendBtn.prop('disabled', false)\r\n            .removeClass('processing')\r\n            .html(`\r\n                    <span class=\"prompt-icon\">\r\n                        <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                            <path d=\"M2 21L23 12L2 3V10L17 12L2 14V21Z\" fill=\"currentColor\"/>\r\n                        </svg>\r\n                    </span>\r\n                    <span class=\"button-text\">${customButtonLabel}</span>\r\n                `);\r\n    }\r\n\r\n    showPromptResponse(container, responseData, originalPrompt) {\r\n        const $ = this.$;\r\n        const {\r\n            response,\r\n            metadata,\r\n            generated_at,\r\n            tokens_used,\r\n            model_used\r\n        } = responseData;\r\n\r\n        const responseContainer = container.find('.swptls-prompt-response');\r\n        const responseContent = responseContainer.find('.response-content');\r\n        const responseMeta = responseContainer.find('.response-meta');\r\n\r\n        // Format and display the response\r\n        responseContent.html(this.formatResponse(response));\r\n\r\n        // Add metadata\r\n        responseMeta.html(`\r\n                <div class=\"original-prompt\">\r\n                    <strong>Your question:</strong> \"${originalPrompt}\"\r\n                </div>\r\n            `);\r\n\r\n        // Show the response container\r\n        responseContainer.show();\r\n\r\n        // Clear the input\r\n        container.find('.swptls-prompt-input').val('');\r\n\r\n        // Scroll to response\r\n        responseContainer[0].scrollIntoView({\r\n            behavior: 'smooth',\r\n            block: 'start'\r\n        });\r\n    }\r\n\r\n    clearPromptResponse(container) {\r\n        const $ = this.$;\r\n        const responseContainer = container.find('.swptls-prompt-response');\r\n        responseContainer.hide();\r\n        responseContainer.find('.response-content').empty();\r\n        responseContainer.find('.response-meta').empty();\r\n    }\r\n\r\n    formatResponse(response) {\r\n        // Convert markdown-like formatting to HTML\r\n        return response\r\n            .replace(/\\*\\*(.*?)\\*\\*/g, '<strong>$1</strong>')\r\n            .replace(/\\*(.*?)\\*/g, '<em>$1</em>')\r\n            .replace(/\\n\\n/g, '</p><p>')\r\n            .replace(/\\n/g, '<br>')\r\n            .replace(/^/, '<p>')\r\n            .replace(/$/, '</p>');\r\n    }\r\n\r\n    formatDate(dateString) {\r\n        if (!dateString) return 'Just now';\r\n        const date = new Date(dateString);\r\n        const now = new Date();\r\n        const diffMs = now - date;\r\n        const diffMins = Math.floor(diffMs / 60000);\r\n\r\n        if (diffMins < 1) return 'Just now';\r\n        if (diffMins < 60) return `${diffMins} minutes ago`;\r\n        if (diffMins < 1440) return `${Math.floor(diffMins / 60)} hours ago`;\r\n        return date.toLocaleDateString();\r\n    }\r\n\r\n    showError(container, message) {\r\n        this.showNotification(message, 'error');\r\n\r\n        // Also show error in response area if available\r\n        const responseContainer = container.find('.swptls-prompt-response');\r\n        const responseContent = responseContainer.find('.response-content');\r\n\r\n        responseContent.html(`\r\n                <div class=\"error-message\">\r\n                    <span class=\"error-icon\"></span>\r\n                    <span>${message}</span>\r\n                </div>\r\n            `);\r\n        responseContainer.show();\r\n    }\r\n\r\n    showNotification(message, type = 'info') {\r\n        const $ = this.$;\r\n\r\n        const notification = $(`\r\n                <div class=\"swptls-notification swptls-notification-${type}\">\r\n                    <div class=\"swptls-notification-content\">\r\n                        <span class=\"swptls-notification-message\">${message}</span>\r\n                        <button class=\"swptls-notification-close\">&times;</button>\r\n                    </div>\r\n                </div>\r\n            `);\r\n\r\n        $('body').append(notification);\r\n        setTimeout(() => {\r\n            notification.addClass('show');\r\n        }, 100);\r\n\r\n        setTimeout(() => {\r\n            this.hideNotification(notification);\r\n        }, 5000);\r\n\r\n        notification.find('.swptls-notification-close').on('click', () => {\r\n            this.hideNotification(notification);\r\n        });\r\n    }\r\n\r\n    hideNotification(notification) {\r\n        notification.removeClass('show');\r\n        setTimeout(() => {\r\n            notification.remove();\r\n        }, 300);\r\n    }\r\n\r\n    // Method to integrate with table configuration (following common_func.js pattern)\r\n    initializeForTable(tableId, table_settings) {\r\n        const $ = this.$;\r\n        const container = $(`.gswpts_tables_container[id=\"${tableId}\"]`);\r\n\r\n        // Check if prompt fields are enabled for this table\r\n        const showPromptFields = table_settings?.show_table_prompt_fields;\r\n        if (tableId && (showPromptFields === 'true' || showPromptFields === true)) {\r\n            // Store table settings for this table\r\n            if (!window.swptlsTableSettings) {\r\n                window.swptlsTableSettings = {};\r\n            }\r\n            window.swptlsTableSettings[tableId] = table_settings;\r\n\r\n            // Get customizable settings from data attributes or table settings\r\n            const askAiPlaceholder = table_settings?.ask_ai_placeholder || 'Ask anything about this table e.g., Top 5 products by sales';\r\n            const askAiButtonLabel = table_settings?.ask_ai_button_label || 'Ask AI';\r\n            const askAiHeading = table_settings?.ask_ai_heading || 'Ask AI';\r\n\r\n            // Update existing prompt interface with custom settings\r\n            this.updatePromptInterface(container, askAiPlaceholder, askAiButtonLabel, askAiHeading);\r\n\r\n            // console.log('Table Prompt initialized for table:', tableId, 'with settings:', table_settings);\r\n        }\r\n    }\r\n}\r\n\r\n\r\n// Initialize the Table Prompt system outside jQuery ready block\r\nconst tablePrompt = new TablePrompt();\r\n\r\n// Make it globally available for other scripts\r\nwindow.swptlsTablePrompt = tablePrompt;\r\n\r\n// Re-initialize when new content is loaded (for batch loading)\r\njQuery(document).ready(function ($) {\r\n    if (window.swptlsBatchLoader) {\r\n        const originalAppendBatchData = window.swptlsBatchLoader.appendBatchData;\r\n        window.swptlsBatchLoader.appendBatchData = function (data) {\r\n            originalAppendBatchData.call(this, data);\r\n            // Wait a bit before reinitializing to ensure new content is ready\r\n            setTimeout(() => {\r\n                tablePrompt.reinitialize();\r\n            }, 500);\r\n        };\r\n    }\r\n});","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// Frontend Data table design and other config applied like pagination, shorting and so on \r\n\r\nexport default class Global_Table_Config {\r\n\r\n    constructor() {\r\n        this.PaginationTailwindBack1 = `\r\n        <svg width=\"6\" height=\"9\" viewBox=\"0 0 6 9\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n        <path d=\"M5.77056 8.8019C5.91747 8.67501 6 8.50294 6 8.32353C6 8.14411 5.91747 7.97205 5.77056 7.84516L1.89154 4.49592L5.77056 1.14667C5.91331 1.01906 5.99229 0.848143 5.99051 0.670736C5.98872 0.49333 5.90631 0.323626 5.76101 0.198175C5.61572 0.0727263 5.41917 0.00156787 5.21371 2.57836e-05C5.00824 -0.00151535 4.81029 0.0666838 4.66249 0.189935L0.229439 4.01755C0.0825293 4.14443 -2.04722e-07 4.3165 -1.9688e-07 4.49592C-1.89037e-07 4.67533 0.0825294 4.8474 0.229439 4.97428L4.66249 8.8019C4.80945 8.92874 5.00873 9 5.21653 9C5.42432 9 5.62361 8.92874 5.77056 8.8019Z\" fill=\"#FFFFFF\"/>\r\n        </svg>\r\n\r\n        `;\r\n        this.PaginationTainwildNext1 = `\r\n        <svg width=\"6\" height=\"9\" viewBox=\"0 0 6 9\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n        <path d=\"M0.229439 8.8019C0.0825295 8.67501 2.1727e-08 8.50294 2.95695e-08 8.32353C3.74119e-08 8.14411 0.0825296 7.97205 0.229439 7.84516L4.10846 4.49592L0.22944 1.14667C0.0866933 1.01906 0.00770646 0.848143 0.00949193 0.670736C0.0112774 0.49333 0.0936922 0.323626 0.238986 0.198175C0.384279 0.0727263 0.580825 0.00156787 0.786293 2.57836e-05C0.991761 -0.00151535 1.18971 0.0666838 1.33751 0.189935L5.77056 4.01755C5.91747 4.14443 6 4.3165 6 4.49592C6 4.67533 5.91747 4.8474 5.77056 4.97428L1.33751 8.8019C1.19055 8.92874 0.991266 9 0.783473 9C0.57568 9 0.376394 8.92874 0.229439 8.8019Z\" fill=\"#FFFFFF\"/>\r\n        </svg>\r\n\r\n        `;\r\n\r\n\r\n        this.PaginationTailwindBack2 = `\r\n        <svg width=\"12\" height=\"9\" viewBox=\"0 0 12 9\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n        <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M5.35416 0.854143C5.40065 0.807655 5.43753 0.752466 5.46268 0.691727C5.48784 0.630987 5.50079 0.565887 5.50079 0.500143C5.50079 0.434399 5.48784 0.369299 5.46268 0.30856C5.43753 0.24782 5.40065 0.192631 5.35416 0.146143C5.30767 0.0996553 5.25248 0.0627792 5.19174 0.0376201C5.13101 0.012461 5.06591 -0.000488282 5.00016 -0.000488281C4.93442 -0.00048828 4.86932 0.012461 4.80858 0.0376201C4.74784 0.0627792 4.69265 0.0996553 4.64616 0.146143L0.646161 4.14614C0.599598 4.19259 0.562655 4.24776 0.537449 4.30851C0.512242 4.36926 0.499268 4.43438 0.499268 4.50014C0.499268 4.56591 0.512242 4.63103 0.537449 4.69178C0.562655 4.75252 0.599598 4.8077 0.646161 4.85414L4.64616 8.85414C4.74005 8.94803 4.86739 9.00077 5.00016 9.00077C5.13294 9.00077 5.26027 8.94803 5.35416 8.85414C5.44805 8.76026 5.50079 8.63292 5.50079 8.50014C5.50079 8.36737 5.44805 8.24003 5.35416 8.14614L1.70716 4.50014L5.35416 0.854143ZM11.3542 0.854143C11.4006 0.807655 11.4375 0.752466 11.4627 0.691727C11.4878 0.630987 11.5008 0.565887 11.5008 0.500143C11.5008 0.434399 11.4878 0.369299 11.4627 0.30856C11.4375 0.24782 11.4006 0.192631 11.3542 0.146143C11.3077 0.0996553 11.2525 0.0627792 11.1917 0.0376201C11.131 0.012461 11.0659 -0.000488281 11.0002 -0.000488281C10.9344 -0.000488281 10.8693 0.012461 10.8086 0.0376201C10.7478 0.0627792 10.6926 0.0996553 10.6462 0.146143L6.64616 4.14614C6.5996 4.19259 6.56266 4.24776 6.53745 4.30851C6.51224 4.36926 6.49927 4.43438 6.49927 4.50014C6.49927 4.56591 6.51224 4.63103 6.53745 4.69178C6.56266 4.75252 6.5996 4.8077 6.64616 4.85414L10.6462 8.85414C10.74 8.94803 10.8674 9.00077 11.0002 9.00077C11.1329 9.00077 11.2603 8.94803 11.3542 8.85414C11.448 8.76026 11.5008 8.63292 11.5008 8.50014C11.5008 8.36737 11.448 8.24003 11.3542 8.14614L7.70716 4.50014L11.3542 0.854143Z\" fill=\"#333333\"/>\r\n        </svg>\r\n        `;\r\n        this.PaginationTainwildNext2 = `\r\n        <svg width=\"12\" height=\"9\" viewBox=\"0 0 12 9\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n        <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M6.64587 0.854143C6.59938 0.807655 6.5625 0.752466 6.53735 0.691727C6.51219 0.630987 6.49924 0.565887 6.49924 0.500143C6.49924 0.434399 6.51219 0.369299 6.53735 0.30856C6.5625 0.24782 6.59938 0.192631 6.64587 0.146143C6.69236 0.0996553 6.74755 0.0627792 6.80829 0.0376201C6.86903 0.012461 6.93413 -0.000488282 6.99987 -0.000488281C7.06561 -0.00048828 7.13071 0.012461 7.19145 0.0376201C7.25219 0.0627792 7.30738 0.0996553 7.35387 0.146143L11.3539 4.14614C11.4004 4.19259 11.4374 4.24776 11.4626 4.30851C11.4878 4.36926 11.5008 4.43438 11.5008 4.50014C11.5008 4.56591 11.4878 4.63103 11.4626 4.69178C11.4374 4.75252 11.4004 4.8077 11.3539 4.85414L7.35387 8.85414C7.25998 8.94803 7.13265 9.00077 6.99987 9.00077C6.86709 9.00077 6.73976 8.94803 6.64587 8.85414C6.55198 8.76026 6.49924 8.63292 6.49924 8.50014C6.49924 8.36737 6.55198 8.24003 6.64587 8.14614L10.2929 4.50014L6.64587 0.854143ZM0.645869 0.854143C0.599381 0.807655 0.562505 0.752466 0.537346 0.691727C0.512187 0.630987 0.499238 0.565887 0.499238 0.500143C0.499238 0.434399 0.512187 0.369299 0.537346 0.30856C0.562505 0.24782 0.599381 0.192631 0.645869 0.146143C0.692357 0.0996553 0.747546 0.0627792 0.808286 0.0376201C0.869025 0.012461 0.934126 -0.000488281 0.999869 -0.000488281C1.06561 -0.000488281 1.13071 0.012461 1.19145 0.0376201C1.25219 0.0627792 1.30738 0.0996553 1.35387 0.146143L5.35387 4.14614C5.40043 4.19259 5.43738 4.24776 5.46258 4.30851C5.48779 4.36926 5.50076 4.43438 5.50076 4.50014C5.50076 4.56591 5.48779 4.63103 5.46258 4.69178C5.43738 4.75252 5.40043 4.8077 5.35387 4.85414L1.35387 8.85414C1.25998 8.94803 1.13264 9.00077 0.999869 9.00077C0.867094 9.00077 0.739756 8.94803 0.645869 8.85414C0.551983 8.76026 0.499238 8.63292 0.499238 8.50014C0.499238 8.36737 0.551983 8.24003 0.645869 8.14614L4.29287 4.50014L0.645869 0.854143Z\" fill=\"#333333\"/>\r\n        </svg>\r\n        `;\r\n    }\r\n\r\n    table_configuration($, i, elem, table_name, table_settings, sheetUrl) {\r\n        let dom = `<\"filtering_input filtering_input_${i}\"${\r\n                table_settings?.show_x_entries ? \"l\" : \"\"\r\n            }${\r\n                table_settings?.search_bar ? \"f\" : \"\"\r\n            }>rt<\"bottom_options bottom_options_${i}\"${\r\n                table_settings?.show_info_block ? \"i\" : \"\"\r\n            }${  table_settings?.pagination ? \"p\" : \"\"}>`;\r\n\r\n        if (this.isProPluginActive()) {\r\n            dom = `B<\"filtering_input filtering_input_${i}\"${\r\n                table_settings?.show_x_entries ? \"l\" : \"\"\r\n            }${\r\n                table_settings?.search_bar ? \"f\" : \"\"\r\n            }>rt<\"bottom_options bottom_options_${i}\"${\r\n                table_settings?.show_info_block ? \"i\" : \"\"\r\n            }${  table_settings?.pagination ? \"p\" : \"\"}>`;\r\n\r\n            // change the cell format according to feature saved at database\r\n            this.changeRedirectionType(\r\n                table_settings?.redirection_type,\r\n                $(elem).find(\"#create_tables a\"),\r\n                $\r\n            );\r\n        }\r\n\r\n         // For free it need to use without pro checked\r\n         this.changeCellFormat(\r\n            table_settings?.cell_format,\r\n            $(elem).find(\"#create_tables th, td\"),\r\n            $\r\n        );\r\n\r\n        if (table_settings.table_view_mode === 'default-mode') {\r\n            // Without search \r\n            if ($.fn.DataTable && $(elem).find(\"#create_tables\").length) {\r\n                $(elem).find(\"#create_tables\").DataTable(this.table_obj($, table_name, table_settings, dom));\r\n            }\r\n        } else if (table_settings.table_view_mode === 'search-only-mode') {\r\n        \r\n            if ($.fn.DataTable && $(elem).find(\"#create_tables\").length) {\r\n                // Initialize DataTable and capture the instance\r\n                let table = $(elem).find(\"#create_tables\").DataTable(this.table_obj($, table_name, table_settings, dom));\r\n        \r\n                // Implement Custom Search using table-specific approach instead of global\r\n                this.setupCustomSearch(table, table_settings, elem, $);\r\n            }\r\n        } else {\r\n            // Without search \r\n            if ($.fn.DataTable && $(elem).find(\"#create_tables\").length) {\r\n                $(elem).find(\"#create_tables\").DataTable(this.table_obj($, table_name, table_settings, dom));\r\n            }\r\n        }\r\n        \r\n\r\n        \r\n        this.setPdfUrl(sheetUrl, $(elem).find(\".dt-buttons\"));\r\n\r\n        if (this.isProPluginActive()) {\r\n            this.reveal_export_btns($, elem, table_settings);\r\n        }\r\n\r\n        this.swap_input_filter($, i, table_settings);\r\n\r\n        this.swap_bottom_options($, i, table_settings);\r\n        \r\n        // Store table settings globally for AI features to access later\r\n        if (!window.swptlsTableSettings) {\r\n            window.swptlsTableSettings = {};\r\n        }\r\n        // Store by both table name and table ID for compatibility\r\n        const tableId = $(elem).attr('id');\r\n        window.swptlsTableSettings[table_name] = table_settings;\r\n        if (tableId) {\r\n            window.swptlsTableSettings[tableId] = table_settings;\r\n        }\r\n\r\n        // Initialize AI features after DataTable is ready (with delay to ensure full initialization)\r\n        setTimeout(() => {\r\n            try {\r\n                // Initialize Table Prompt if enabled\r\n                if (table_settings.show_table_prompt_fields && window.swptlsTablePrompt) {\r\n                    window.swptlsTablePrompt.initializeForTable(tableId || table_name, table_settings);\r\n                }\r\n                \r\n                // Initialize AI Summary if enabled\r\n                if (table_settings.show_ai_summary_button && window.swptlsAISummary) {\r\n                    window.swptlsAISummary.initializeForTable(tableId || table_name, table_settings);\r\n                }\r\n            } catch (e) {\r\n                console.warn('Error initializing AI features:', e);\r\n            }\r\n        }, 100);\r\n    }\r\n\r\n    setupCustomSearch(table, table_settings, elem, $) {\r\n        // Only setup custom search if column specific search is enabled\r\n        if (!table_settings.enable_column_specific_search) {\r\n            return; // Let DataTable handle default search\r\n        }\r\n\r\n        // Create a unique search function for this specific table\r\n        const tableNode = table.table().node();\r\n        const tableId = $(elem).attr('id');\r\n        \r\n        const searchFunction = (settings, data, dataIndex) => {\r\n            // Only apply to this specific table\r\n            if (settings.nTable !== tableNode) {\r\n                return true;\r\n            }\r\n\r\n            // Get the search term for this specific table\r\n            let searchTerm = $(elem).find(\"#create_tables_filter input\").val();\r\n            if (!searchTerm) {\r\n                return true;\r\n            }\r\n            searchTerm = searchTerm.toLowerCase();\r\n\r\n            // If table_search_column is specified, search only in those columns\r\n            if (table_settings.table_search_column && table_settings.table_search_column.length > 0) {\r\n                for (let i = 0; i < table_settings.table_search_column.length; i++) {\r\n                    let colIndex = table_settings.table_search_column[i];\r\n                    if (data[colIndex] && data[colIndex].toLowerCase().includes(searchTerm)) {\r\n                        return true;\r\n                    }\r\n                }\r\n                return false;\r\n            } else {\r\n                // Search across all columns\r\n                for (let i = 0; i < data.length; i++) {\r\n                    if (data[i] && data[i].toLowerCase().includes(searchTerm)) {\r\n                        return true;\r\n                    }\r\n                }\r\n                return false;\r\n            }\r\n        };\r\n\r\n        // Add the search function only if not already added\r\n        if (!$.fn.dataTable.ext.search.includes(searchFunction)) {\r\n            $.fn.dataTable.ext.search.push(searchFunction);\r\n        }\r\n\r\n        // Store reference for cleanup\r\n        if (!window.swptlsSearchFunctions) {\r\n            window.swptlsSearchFunctions = new Map();\r\n        }\r\n        window.swptlsSearchFunctions.set(tableId, searchFunction);\r\n    }\r\n\r\n    changeRedirectionType(type, links, $) {\r\n        if (!links.length) return;\r\n        $.each(links, function (i, link) {\r\n            $(link).attr(\"target\", type);\r\n        });\r\n    }\r\n\r\n    changeCellFormat(formatStyle, tableCell, $) {\r\n        switch (formatStyle) {\r\n            case \"wrap\":\r\n                $.each(tableCell, function (i, cell) {\r\n                    $(cell).removeClass(\"clip_style\");\r\n                    $(cell).removeClass(\"expanded_style\");\r\n                    $(cell).addClass(\"wrap_style\");\r\n                });\r\n                break;\r\n\r\n            case \"clip\":\r\n                $.each(tableCell, function (i, cell) {\r\n                    $(cell).removeClass(\"wrap_style\");\r\n                    $(cell).removeClass(\"expanded_style\");\r\n                    $(cell).addClass(\"clip_style\");\r\n                });\r\n                break;\r\n            case \"expand\":\r\n                $.each(tableCell, function (i, cell) {\r\n                    $(cell).removeClass(\"clip_style\");\r\n                    $(cell).removeClass(\"wrap_style\");\r\n                    $(cell).addClass(\"expanded_style\");\r\n                });\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    // Cleanup method to remove table-specific search functions\r\n    cleanupTableSearchFunctions() {\r\n        if (window.swptlsSearchFunctions) {\r\n            window.swptlsSearchFunctions.forEach((searchFunction, tableId) => {\r\n                // Remove the search function from global array\r\n                const index = $.fn.dataTable.ext.search.indexOf(searchFunction);\r\n                if (index > -1) {\r\n                    $.fn.dataTable.ext.search.splice(index, 1);\r\n                }\r\n            });\r\n            window.swptlsSearchFunctions.clear();\r\n        }\r\n    }\r\n\r\n    isProPluginActive() {\r\n        if (front_end_data.isProActive || front_end_data.isProActive != '') {\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    getSpreadsheetID(url) {\r\n        if (!url || url == \"\") return;\r\n\r\n        let sheetID = null;\r\n\r\n        sheetID = url.split(/\\//)[5];\r\n\r\n        if (sheetID) return sheetID;\r\n\r\n        return null;\r\n    }\r\n\r\n    getGridID(url) {\r\n        if (!url || url == \"\") return;\r\n\r\n        let gridID = null;\r\n\r\n        gridID = url.match(/gid=(\\w+)/);\r\n\r\n        if ( gridID != null ) {\r\n            gridID = gridID[1];\r\n        }\r\n\r\n        if (gridID) {\r\n            return gridID;\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    //PDF Export as PDF\r\n    setPdfUrl(url, elem) {\r\n        let spreadsheetID = this.getSpreadsheetID(url);\r\n        let gridID = this.getGridID(url);\r\n        let pdfUrl = `https://docs.google.com/spreadsheets/d/${spreadsheetID}/export?format=pdf&id=${spreadsheetID}&gid=${gridID}`;\r\n        // Forntend part design `<a class=\"ui dt-button inverted button transition pdf_btn\"\r\n        elem.append(\r\n            `<a class=\"ui inverted button export_btns pdf_btn\"\r\n                href=\"${pdfUrl}\"\r\n                download\r\n                title=\"${front_end_data.strings['export-pdf']}\"\r\n                >\r\n                <span>\r\n                    <img src=\"${front_end_data.iconsURL.filePdf}\" />\r\n                </span>\r\n            </a>`\r\n        );\r\n    }\r\n\r\n    getPaginateSettings = (tableSettings) => {\r\n        const theme = tableSettings?.table_style || \"default-style\";\r\n        const themePageStyles = tableSettings?.import_styles_theme_colors?.[theme] || {};\r\n        const PageStyles = themePageStyles.paginationStyle || 'default_pagination';\r\n\r\n        if (PageStyles === 'default_pagination') {\r\n\t\t\treturn {\r\n\t\t\t\tfirst: `<span class='paging-first-${PageStyles}'>${front_end_data.strings['first']}</span>`,\r\n\t\t\t\tprevious: `<span class='paging-backward-${PageStyles}'>${front_end_data.strings['previous']}</span>`,\r\n\t\t\t\tnext: `<span class='paging-forward-${PageStyles}'>${front_end_data.strings['next']}</span>`,\r\n\t\t\t\tlast: `<span class='paging-last-${PageStyles}'>${front_end_data.strings['last']}</span>`\r\n\t\t\t};\r\n\t\t} \r\n        else if(PageStyles === 'modern_pagination') {\r\n\t\t\treturn {\r\n\t\t\t\tfirst: `<span class='paging-first-${PageStyles}'>${front_end_data.strings['first']}</span>`,\r\n                previous: `<span class='paging-backward-${PageStyles}'> ${front_end_data.strings['previous2'].toUpperCase()}</span>`,\r\n\t\t\t\tnext: `<span class='paging-forward-${PageStyles}'>${front_end_data.strings['next2'].toUpperCase()} </span>`,\r\n                \r\n\t\t\t\tlast: `<span class='paging-last-${PageStyles}'>${front_end_data.strings['last']}</span>`\r\n\t\t\t};\r\n\t\t}\r\n        else if(PageStyles === 'tailwind_pagination') {\r\n\t\t\treturn {\r\n\t\t\t\tfirst: `<span class='paging-first-${PageStyles}'>${front_end_data.strings['first']}</span>`,\r\n\t\t\t\tprevious: `<span class='paging-backward-${PageStyles}'>${this.PaginationTailwindBack2}</span>`,\r\n\t\t\t\tnext: `<span class='paging-forward-${PageStyles}'>${this.PaginationTainwildNext2}</span>`,\r\n\t\t\t\tlast: `<span class='paging-last-${PageStyles}'>${front_end_data.strings['last']}</span>`\r\n\t\t\t};\r\n\t\t}\r\n        else if(PageStyles === 'outlined_pagination') {\r\n\t\t\treturn {\r\n\t\t\t\tfirst: `<span class='paging-first-${PageStyles}'>${front_end_data.strings['first']}</span>`,\r\n\t\t\t\tprevious: `<span class='paging-backward-${PageStyles}'>${this.PaginationTailwindBack1}</span>`,\r\n\t\t\t\tnext: `<span class='paging-forward-${PageStyles}'>${this.PaginationTainwildNext1}</span>`,\r\n\t\t\t\tlast: `<span class='paging-last-${PageStyles}'>${front_end_data.strings['last']}</span>`\r\n\t\t\t};\r\n\t\t}\r\n        else if(PageStyles === 'simple_pagination') {\r\n\t\t\treturn {\r\n\t\t\t\tfirst: `<span class='paging-first-${PageStyles}'>${front_end_data.strings['first']}</span>`,\r\n\t\t\t\tprevious: `<span class='paging-backward-${PageStyles}'>${this.PaginationTailwindBack1}</span>`,\r\n\t\t\t\tnext: `<span class='paging-forward-${PageStyles}'>${this.PaginationTainwildNext1}</span>`,\r\n\t\t\t\tlast: `<span class='paging-last-${PageStyles}'>${front_end_data.strings['last']}</span>`\r\n\t\t\t};\r\n\t\t}\r\n        else {\r\n\t\t\treturn {\r\n\t\t\t\tfirst: `<span class='paging-first-${PageStyles}'>${front_end_data.strings['first']}</span>`,\r\n\t\t\t\tprevious: `<span class='paging-backward-${PageStyles}'>${front_end_data.strings['previous']}</span>`,\r\n\t\t\t\tnext: `<span class='paging-forward-${PageStyles}'>${front_end_data.strings['next']}</span>`,\r\n\t\t\t\tlast: `<span class='paging-last-${PageStyles}'>${front_end_data.strings['last']}</span>`\r\n\t\t\t};\r\n\t\t}\r\n\r\n    }\r\n    \r\n    table_obj($, table_name, table_settings, dom) {\r\n\r\n         // Register the date format with DataTables\r\n        if (table_settings.allow_sorting && $.fn.dataTable && $.fn.dataTable.moment) {\r\n           \r\n            // European date formats with dots \r\n            $.fn.dataTable.moment('DD.MM.YYYY');\r\n            $.fn.dataTable.moment('D.M.YYYY');\r\n            $.fn.dataTable.moment('DD.MM.YY');\r\n            $.fn.dataTable.moment('D.M.YY');\r\n            \r\n            // Common date formats with slashes\r\n            $.fn.dataTable.moment('DD/MM/YYYY');\r\n            $.fn.dataTable.moment('MM/DD/YYYY');\r\n            $.fn.dataTable.moment('YYYY/MM/DD');\r\n            $.fn.dataTable.moment('D/M/YYYY');\r\n            \r\n            // Common date formats with dashes\r\n            $.fn.dataTable.moment('DD-MM-YYYY');\r\n            $.fn.dataTable.moment('MM-DD-YYYY');\r\n            $.fn.dataTable.moment('YYYY-MM-DD');\r\n            $.fn.dataTable.moment('D-M-YYYY');\r\n            \r\n            // Month name formats\r\n            $.fn.dataTable.moment('D-MMM-YY');\r\n            $.fn.dataTable.moment('D-MMM-YYYY');\r\n            $.fn.dataTable.moment('D MMM YYYY');\r\n            $.fn.dataTable.moment('DD MMM YYYY');\r\n            $.fn.dataTable.moment('MMMM D, YYYY');\r\n            $.fn.dataTable.moment('MMMM Do, YYYY');\r\n            $.fn.dataTable.moment('Do MMMM YYYY');\r\n            $.fn.dataTable.moment('D MMMM YYYY');\r\n            \r\n            // Full text date formats\r\n            $.fn.dataTable.moment('dddd, MMMM D, YYYY');\r\n            $.fn.dataTable.moment('dddd, MMMM Do, YYYY');\r\n            $.fn.dataTable.moment('ddd, MMM D, YYYY');\r\n            $.fn.dataTable.moment('dd, MM, YYYY');\r\n            \r\n            // Time formats\r\n            $.fn.dataTable.moment('HH:mm MMM D, YY');\r\n            $.fn.dataTable.moment('HH:mm DD.MM.YYYY');\r\n            $.fn.dataTable.moment('HH:mm DD/MM/YYYY');\r\n        }\r\n        \r\n\r\n        let table_object = {\r\n            dom: dom,\r\n        \r\n            // order: [[2, 'desc']],\r\n            order: table_settings.allow_singleshort\r\n\t\t\t\t\t\t? [[(table_settings.columnnumber ? table_settings.columnnumber : 0), table_settings.sorting_mode ? table_settings.sorting_mode : 'desc']]\r\n\t\t\t\t\t\t: (table_settings.allow_sorting ? [] : []),\r\n            \r\n            responsive: true,\r\n            lengthMenu: [\r\n                [1, 5, 10, 15, 30, 50],\r\n                [\r\n                    front_end_data.strings['1'],\r\n                    front_end_data.strings['5'],\r\n                    front_end_data.strings['10'],\r\n                    front_end_data.strings['15'],\r\n                    front_end_data.strings['30'],\r\n                    front_end_data.strings['50'],\r\n                ]\r\n            ],\r\n\r\n            language: {\r\n                search: front_end_data.strings['search'], \r\n                searchPlaceholder: front_end_data.strings['search-items'],\r\n                lengthMenu: front_end_data.strings['filtering_show'] + \" _MENU_ \" + front_end_data.strings['filtering_entries'],\r\n                info: front_end_data.strings['dataTables_info_showing'] + \" _START_ \" + front_end_data.strings['dataTables_info_to'] + \" _END_ \" + front_end_data.strings['dataTables_info_of'] + \" _TOTAL_ \" + front_end_data.strings['filtering_entries'],\r\n\r\n                emptyTable: front_end_data.strings['data-empty-notice'],\r\n                zeroRecords: front_end_data.strings['data-empty-notice'],\r\n                paginate: this.getPaginateSettings(table_settings),\r\n            },\r\n           \r\n            pagingType: 'simple_numbers', // simple_numbers // simple // numbers // full  // first_last_numbers // full_numbers\r\n            pageLength: parseInt(table_settings.default_rows_per_page),\r\n            lengthChange: true,\r\n            ordering: table_settings.allow_sorting,\r\n            destroy: true,\r\n            scrollX: true,\r\n        };\r\n\r\n        $('.gswpts_tables_container').each(function () {\r\n            let numberOfColumns = $(this).find('thead th').length;\r\n            let table_object = {\r\n                order: []\r\n            };\r\n        \r\n            for (let i = 0; i < numberOfColumns; i++) {\r\n                // table_object.order.push([i, 'asc']);\r\n                table_object.order.push([i, '']);\r\n            }\r\n        });\r\n\r\n        if (this.isProPluginActive()) {\r\n            table_object.buttons = [\r\n                {\r\n                    text: `<img src=\"${front_end_data.iconsURL.curlyBrackets}\" />`,\r\n                    className: \"ui inverted button export_btns json_btn\",\r\n                    action: function (e, dt, button, config) {\r\n                        var data = dt.buttons.exportData();\r\n                        $.fn.dataTable.fileSave(\r\n                            new Blob([JSON.stringify(data)]),\r\n                            `${table_name}.json`\r\n                        );\r\n                    },\r\n                    titleAttr: front_end_data.strings['export-json']\r\n                },\r\n                {\r\n                    text: `<img src=\"${front_end_data.iconsURL.fileCSV}\" />`,\r\n                    extend: \"csv\",\r\n                    className: \"ui inverted button export_btns csv_btn\",\r\n                    title: `${table_name}`,\r\n                    // titleAttr: \"Export as CSV\",\r\n                    titleAttr: front_end_data.strings['export-csv'],\r\n                },\r\n                {\r\n                    text: `<img src=\"${front_end_data.iconsURL.fileExcel}\" />`,\r\n                    extend: \"excel\",\r\n                    className: \"ui inverted button export_btns excel_btn\",\r\n                    title: `${table_name}`,\r\n                    titleAttr: front_end_data.strings['export-excel']\r\n                },\r\n                {\r\n                    text: `<img src=\"${front_end_data.iconsURL.printIcon}\" />`,\r\n                    extend: \"print\",\r\n                    className: \"ui inverted button export_btns print_btn\",\r\n                    title: `${table_name}`,\r\n                    titleAttr: front_end_data.strings['print']\r\n                },\r\n                {\r\n                    text: `<img src=\"${front_end_data.iconsURL.copySolid}\" />`,\r\n                    extend: \"copy\",\r\n                    className: \"ui inverted button export_btns copy_btn\",\r\n                    title: `${table_name}`,\r\n                    titleAttr: front_end_data.strings['copy']\r\n                },\r\n            ];\r\n\r\n            table_object.lengthMenu = [\r\n                [1, 5, 10, 15, 30, 50, 100, -1],\r\n                [\r\n                    front_end_data.strings['1'],\r\n                    front_end_data.strings['5'],\r\n                    front_end_data.strings['10'],\r\n                    front_end_data.strings['15'],\r\n                    front_end_data.strings['30'],\r\n                    front_end_data.strings['50'],\r\n                    front_end_data.strings['100'],\r\n                    front_end_data.strings['All']\r\n                ]\r\n            ];\r\n \r\n            //Column is needed to hide and backend code is not used actually to hide.\r\n            if ((table_settings?.hide_on_desktop_col && this.screenSize() === \"desktop\") || (table_settings?.hide_on_mobile_col && this.screenSize() === \"mobile\")) {\r\n                if (this.screenSize() === \"desktop\" && table_settings.hide_column) {\r\n                    table_object.columnDefs = this.hideColumnByScreen(\r\n                        table_settings.hide_column\r\n                    );\r\n                } else if (this.screenSize() === \"mobile\" && table_settings.hide_column_mobile) {\r\n                    table_object.columnDefs = this.hideColumnByScreen(\r\n                        table_settings.hide_column_mobile\r\n                    );\r\n                }\r\n            } \r\n        }\r\n        \r\n        // Table height \r\n        if (table_settings.vertical_scrolling) {\r\n            table_object.scrollY = `${table_settings.vertical_scrolling}px`;\r\n        }\r\n\r\n        return table_object;\r\n    }\r\n\r\n    // Return an array that will define the columns to hide\r\n    hideColumnByScreen(arrayValues) {\r\n        return [\r\n            {\r\n                targets: this.convertArrayStringToInteger(arrayValues),\r\n                visible: false,\r\n                searchable: false,\r\n            },\r\n        ];\r\n    }\r\n\r\n    // get the current screen size of user if greater than 740 return desktop or return mobile\r\n    screenSize() {\r\n        // Desktop screen size\r\n        if (screen.width > 740) {\r\n            return \"desktop\";\r\n        } else {\r\n            return \"mobile\";\r\n        }\r\n    }\r\n\r\n    // convert string to integer from arrays\r\n    convertArrayStringToInteger(arr) {\r\n        if (!arr) return [];\r\n        return arr.map((val) => parseInt(val));\r\n    }\r\n\r\n    reveal_export_btns($, elem, table_settings) {\r\n        if (!table_settings) return;\r\n\r\n        let export_btns = table_settings.table_export;\r\n\r\n        if (export_btns != \"empty\" && export_btns) {\r\n            export_btns.forEach((btn) => {\r\n                $(elem)\r\n                    .find(\".\" + btn + \"_btn\")\r\n                    .removeClass(\"export_btns\");\r\n            });\r\n        }\r\n    }\r\n\r\n    swap_input_filter($, i, table_settings) {\r\n        /* If checkbox is checked then swap filter */\r\n        if (table_settings?.swap_filter_inputs) {\r\n            $(\".filtering_input_\" + i + \"\").css(\"flex-direction\", \"row-reverse\");\r\n            $(\".filtering_input_\" + i + \" > #create_tables_length\").css({\r\n                \"margin-right\": \"0\",\r\n                \"margin-left\": \"auto\",\r\n            });\r\n            $(\".filtering_input_\" + i + \" > #create_tables_filter\").css({\r\n                \"margin-left\": \"0\",\r\n                \"margin-right\": \"auto\",\r\n            });\r\n        } else {\r\n            /* Set back to default position */\r\n            $(\".filtering_input_\" + i + \"\").css(\"flex-direction\", \"row\");\r\n            $(\".filtering_input_\" + i + \" > #create_tables_length\").css({\r\n                \"margin-right\": \"auto\",\r\n                \"margin-left\": \"0\",\r\n            });\r\n            $(\".filtering_input_\" + i + \" > #create_tables_filter\").css({\r\n                \"margin-left\": \"auto\",\r\n                \"margin-right\": \"0\",\r\n            });\r\n        }\r\n    }\r\n\r\n    swap_bottom_options($, i, table_settings) {\r\n        let style = {\r\n            flex_direction: \"row-reverse\",\r\n            table_info_style: {\r\n                margin_left: \"auto\",\r\n                margin_right: 0,\r\n            },\r\n            table_paginate_style: {\r\n                margin_left: 0,\r\n                margin_right: \"auto\",\r\n            },\r\n        };\r\n\r\n        if (table_settings?.swap_bottom_options) {\r\n            this.bottom_option_style($, style, i);\r\n        } else {\r\n            style[\"flex_direction\"] = \"row\";\r\n\r\n            style.table_info_style[\"margin_left\"] = 0;\r\n            style.table_info_style[\"margin_right\"] = \"auto\";\r\n\r\n            style.table_paginate_style[\"margin_left\"] = \"auto\";\r\n            style.table_paginate_style[\"margin_right\"] = 0;\r\n\r\n            this.bottom_option_style($, style, i);\r\n        }\r\n    }\r\n\r\n    bottom_option_style($, $arg, i) {\r\n        $(\".bottom_options_\" + i + \"\").css(\"flex-direction\", $arg[\"flex_direction\"]);\r\n        $(\".bottom_options_\" + i + \" > #create_tables_info\").css({\r\n            \"margin-left\": $arg[\"table_info_style\"][\"margin_left\"],\r\n            \"margin-right\": $arg[\"table_info_style\"][\"margin_right\"],\r\n        });\r\n        $(\".bottom_options_\" + i + \" > #create_tables_paginate\").css({\r\n            \"margin-left\": $arg[\"table_paginate_style\"][\"margin_left\"],\r\n            \"margin-right\": $arg[\"table_paginate_style\"][\"margin_right\"],\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Header merge \r\n     */\r\n    handleHeaderMergedCells($, elem) {\r\n        var tableHeaders = $(elem).find('.thead-item[data-merge]');\r\n        \r\n        if(tableHeaders){\r\n            tableHeaders.each(function (index, header) {\r\n                // Check if the current header has the data-merge attribute.\r\n                var dataMerge = $(header).attr('data-merge');\r\n        \r\n                if (dataMerge) {\r\n                    dataMerge = JSON.parse(dataMerge);\r\n                    var startCol = dataMerge[0];\r\n                    var numCols = dataMerge[1];\r\n        \r\n                    // Add parentCellstart class to the starting cell\r\n                    $(header).addClass('parentCellstart');\r\n                    \r\n                    $(header).css({\r\n                        'text-align': 'center',\r\n                    });\r\n        \r\n                    // Update colspan attribute\r\n                    $(header).attr('colspan', numCols);\r\n        \r\n                    // Get the next cell in the row\r\n                    var nextCell = $(header).next();\r\n        \r\n                    // Loop through numCols starting from 1\r\n                    for (var i = 1; i < numCols; i++) {\r\n                        if (nextCell && nextCell.length) {\r\n                            $(nextCell).addClass('childCell');\r\n                            // nextCell.style.display = 'none'; \r\n                            nextCell = $(nextCell).next();\r\n                        }\r\n                    }\r\n    \r\n                    $(elem).find('.childCell').css('display', 'none');\r\n    \r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Table body merge\r\n     * @param {* table body merge} $ \r\n     * @param {*} elem \r\n     */\r\n\r\n    handleMergedCells($, elem) {\r\n        var tableRows = $(elem).find('.gswpts_rows');\r\n    \r\n        tableRows.each(function () {\r\n            var cells = $(this).find('td');\r\n    \r\n            cells.each(function () {\r\n                if ($(this).hasClass('parentCellstart')) {\r\n\r\n                    // Apply the logic from the previous conversation here\r\n                    var dataMerge = JSON.parse($(this).attr('data-merge'));\r\n                    var dataIndex = JSON.parse($(this).attr('data-index'));\r\n    \r\n                    for (var i = 0; i < dataMerge[0]; i++) {\r\n                        for (var j = 0; j < dataMerge[1]; j++) {\r\n                            var targetIndex = [\r\n                                dataIndex[0] + i,\r\n                                dataIndex[1] + j\r\n                            ];\r\n    \r\n                            var targetCell = $(elem).find('[data-index=\"[' + targetIndex.join(',') + ']\"]');\r\n    \r\n                            if (targetCell) {\r\n                                var cellDivContent = targetCell.find('.cell_div').text().trim();\r\n                                if (cellDivContent === '') {\r\n                                    targetCell.addClass('merged-cell');\r\n                                    targetCell.hide();\r\n\r\n                                    if ($(this).hasClass('parentCellstart')) {\r\n                                        $(this).css({\r\n                                            'text-align': 'center',\r\n                                            'vertical-align': 'middle'\r\n                                        });\r\n                                    }\r\n                                } else {\r\n                                    targetCell.addClass('normal-cell');\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param {Calculate the width and fixed the header issues, zoom in/out issues} $ \r\n     * @param {*} Add dynamic table width in header from body td calculated on tr\r\n     * @returns \r\n     */\r\n    handleTableWidth($, elem) {\r\n        // Store the original table widths to prevent continuous reduction.\r\n        if (!window.originalTableWidths) {\r\n            window.originalTableWidths = {};\r\n        }\r\n    \r\n        function setConsistentTableWidth(container) {\r\n            var tableId = $(container).attr('id') || 'table-' + Math.random().toString(36).substring(2, 10);\r\n\r\n            var table = $(container).find(\".ui.celled.display.table.gswpts_tables.dataTable.no-footer\");\r\n            \r\n            // Get container width as a fallback.\r\n            var containerWidth = $(container).width();\r\n            \r\n            // Get the first visible row.\r\n            var row = $(container).find(\"tr.gswpts_rows:visible\").first();\r\n            \r\n            if (row.length > 0) {\r\n                var rect = row[0].getBoundingClientRect();\r\n                var rowWidth = rect.width;\r\n                \r\n                // Check if this is the first time we're setting width for this table.\r\n                if (!window.originalTableWidths[tableId]) {\r\n                    // For tables with 4 or fewer columns, use container width instead of row width\r\n                    if ($(row).find('td, th').length <= 4) {\r\n                        window.originalTableWidths[tableId] = containerWidth;\r\n                    } else {\r\n                        window.originalTableWidths[tableId] = rowWidth;\r\n                    }\r\n                }\r\n                \r\n                // Use the stored original width\r\n                var targetWidth = window.originalTableWidths[tableId];\r\n                \r\n                // Make sure the width is never less than the container\r\n                if (targetWidth < containerWidth * 0.95) {\r\n                    targetWidth = containerWidth;\r\n                }\r\n                \r\n                // Apply the width to the table\r\n                table.css('width', targetWidth + \"px\");\r\n                \r\n                // Ensure headers have proper width\r\n                var headers = table.find(\"th\");\r\n                if (headers.length > 0) {\r\n                    headers.each(function() {\r\n                        var headerWidth = $(this).width();\r\n                        if (headerWidth === 0) {\r\n                            $(this).css('width', 'auto');\r\n                        }\r\n                    });\r\n                }\r\n            } else {\r\n                // If no visible rows, use container width\r\n                table.css('width', containerWidth + \"px\");\r\n            }\r\n        }\r\n        \r\n        if (elem.prevObject && elem.prevObject.length > 0) {\r\n            elem = elem.prevObject;\r\n        }\r\n        \r\n        if (elem.length === 0) {\r\n            return;\r\n        }\r\n        \r\n        // Apply width setting to each table container\r\n        elem.each(function(index, container) {\r\n            setConsistentTableWidth(container);\r\n        });\r\n        \r\n        // Handle resize events\r\n        $(window).off('resize.tableWidth').on('resize.tableWidth', function() {\r\n            elem.each(function(index, container) {\r\n                setConsistentTableWidth(container);\r\n            });\r\n        });\r\n    }\r\n\r\n        \r\n\r\n    /**\r\n     * Handle paginations\r\n     */\r\n    handlePaginations($, elem) {\r\n        // Store reference to 'this' for use inside nested functions\r\n        const self = this;\r\n        \r\n        function updatePaginationContent(container, style) {\r\n            // Find the previous/next buttons and check if they have the correct span structure\r\n            var prevButton = container.find('.paginate_button.previous');\r\n            var nextButton = container.find('.paginate_button.next');\r\n            \r\n            // Handle Previous button\r\n            if (prevButton.length) {\r\n                var prevSpan = prevButton.find('span[class*=\"paging-backward-\"]');\r\n                \r\n                // If span doesn't exist or lost its class, recreate it\r\n                if (!prevSpan.length || prevSpan.text() === 'Previous' || prevSpan.text() === 'Next') {\r\n                    var content = '';\r\n                    if (style === 'simple_pagination') {\r\n                        content = self.PaginationTailwindBack1;\r\n                    } else if (style === 'modern_pagination') {\r\n                        content = ' ' + front_end_data.strings['previous'].toUpperCase();\r\n                    } else if (style === 'tailwind_pagination') {\r\n                        content = self.PaginationTailwindBack2;\r\n                    } else if (style === 'outlined_pagination') {\r\n                        content = self.PaginationTailwindBack1;\r\n                    } else {\r\n                        content = front_end_data.strings['previous'];\r\n                    }\r\n                    prevButton.html(`<span class='paging-backward-${style}'>${content}</span>`);\r\n                }\r\n            }\r\n            \r\n            // Handle Next button\r\n            if (nextButton.length) {\r\n                var nextSpan = nextButton.find('span[class*=\"paging-forward-\"]');\r\n                \r\n                // If span doesn't exist or lost its class, recreate it\r\n                if (!nextSpan.length || nextSpan.text() === 'Next' || nextSpan.text() === 'Previous') {\r\n                    var content = '';\r\n                    if (style === 'simple_pagination') {\r\n                        content = self.PaginationTainwildNext1;\r\n                    } else if (style === 'modern_pagination') {\r\n                        content = front_end_data.strings['next'].toUpperCase() + ' ';\r\n                    } else if (style === 'tailwind_pagination') {\r\n                        content = self.PaginationTainwildNext2;\r\n                    } else if (style === 'outlined_pagination') {\r\n                        content = self.PaginationTainwildNext1;\r\n                    } else {\r\n                        content = front_end_data.strings['next'];\r\n                    }\r\n                    nextButton.html(`<span class='paging-forward-${style}'>${content}</span>`);\r\n                }\r\n            }\r\n        }\r\n        \r\n\r\n        // Find the pagination containers within the specified element\r\n        var tablePage = $(elem).find('.dataTables_paginate.paging_simple_numbers');\r\n\r\n        if (tablePage.length) {\r\n            tablePage.each(function () {\r\n                var container = $(this);\r\n                // console.log(container)\r\n                var style = ''; // Variable to store the detected style\r\n\r\n                // Check for simple pagination\r\n                if (container.find('.paging-forward-simple_pagination, .paging-backward-simple_pagination, .paging-first-simple_pagination, .paging-last-simple_pagination').length) {\r\n                    container.addClass('simple-pagination-active');\r\n                    style = 'simple_pagination';\r\n                } \r\n                \r\n                else if (container.find('.paging-forward-modern_pagination, .paging-backward-modern_pagination, .paging-first-modern_pagination, .paging-last-modern_pagination').length) {\r\n                    container.addClass('modern-pagination-active');\r\n                    style = 'modern_pagination';\r\n                }\r\n                \r\n                else if (container.find('.paging-forward-tailwind_pagination, .paging-backward-tailwind_pagination, .paging-first-tailwind_pagination, .paging-last-tailwind_pagination').length) {\r\n                    container.addClass('tailwind-pagination-active');\r\n                    style = 'tailwind_pagination';\r\n                }\r\n\r\n                else if (container.find('.paging-forward-outlined_pagination, .paging-backward-outlined_pagination, .paging-first-outlined_pagination, .paging-last-outlined_pagination').length) {\r\n                    container.addClass('outlined-pagination-active');\r\n                    style = 'outlined_pagination';\r\n                }\r\n                \r\n                else if (container.find('.paging-forward-default_pagination, .paging-backward-default_pagination, .paging-first-default_pagination, .paging-last-default_pagination').length) {\r\n                    container.addClass('default-pagination-active');\r\n                    style = 'default_pagination';\r\n                } \r\n                \r\n                else if (container.find('.paging-forward-undefined, .paging-backward-undefined, .paging-first-undefined, .paging-last-undefined').length) {\r\n                    container.addClass('default-preset-pagination-active');\r\n                    style = 'default_preset_pagination';\r\n                }\r\n\r\n                // Initial update of the pagination content\r\n                updatePaginationContent(container, style);\r\n\r\n                // Attach event listener to update content on pagination click\r\n                container.on('click', function () {\r\n                    updatePaginationContent(container, style);\r\n                });\r\n\r\n\r\n                // Trigger pagination design \r\n                var sortingElements = document.querySelectorAll('.sorting');\r\n                var dataTablesLength = document.querySelectorAll('.dataTables_length');\r\n                var dataTables_filter = document.querySelectorAll('.dataTables_filter');\r\n                var createTablesFilterInputs = document.querySelectorAll('.dataTables_filter input');\r\n\r\n                sortingElements.forEach(function (sortingElement) {\r\n                    sortingElement.addEventListener('click', function () {\r\n                        updatePaginationContent(container, style);\r\n                    });\r\n                });\r\n            \r\n                // Add a click event listener to each dataTablesLength element\r\n                dataTablesLength.forEach(function (LengthElement) {\r\n                    LengthElement.addEventListener('click', function () {\r\n                        updatePaginationContent(container, style);\r\n                        \r\n                    });\r\n                });\r\n            \r\n                // Add a click event listener to each dataTables_filter element\r\n                dataTables_filter.forEach(function (FilterElement) {\r\n                    FilterElement.addEventListener('click', function () {\r\n                        updatePaginationContent(container, style);\r\n                    });\r\n                });\r\n\r\n                createTablesFilterInputs.forEach(function (createTablesFilterInput) {\r\n                    createTablesFilterInput.addEventListener('input',function () {\r\n                        updatePaginationContent(container, style);\r\n                       \r\n                    });\r\n                });\r\n\r\n                \r\n            });\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n    /**\r\n     * Generate and load theme style into head\r\n     * @param {string} themeName - The theme name to be used in the CSS class names.\r\n     */\r\n    loadThemeStyle($, elem) {\r\n        let themeName = '';\r\n        let classList = $(elem).attr('class').split(/\\s+/);\r\n        let gswptsCount = 0;\r\n\r\n        for (let className of classList) {\r\n            if (className.startsWith('gswpts_')) {\r\n                gswptsCount++;\r\n                if (gswptsCount === 3) {\r\n                    themeName = className.replace('gswpts_', '');\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        // Check if the themeName is a default style\r\n        if (['default-style', 'style-1', 'style-2', 'style-3', 'style-4', 'style-5', 'style-6', 'style-7', 'style-8'].includes(themeName)) {\r\n            \r\n            // Find the table element within the provided elem\r\n            const tableElem = $(elem).find('table.ui.celled.display.table.gswpts_tables');\r\n\r\n            if (tableElem.length === 0) {\r\n                console.error('Table element not found');\r\n                return;\r\n            }\r\n\r\n            const tableStyles = tableElem.attr('style');\r\n\r\n            function getCustomPropertyValue(styleString, propertyName) {\r\n                const regex = new RegExp(`${propertyName}:\\\\s*([^;]+);?`, 'i');\r\n                const match = styleString.match(regex);\r\n                return match ? match[1].trim() : null;\r\n            }\r\n            \r\n\r\n            const paginationColors = getCustomPropertyValue(tableStyles, '--pagination-colors');\r\n\r\n            const hexToRgba = (hex, opacity) => {\r\n\t\t\t\tconst bigint = parseInt(hex.slice(1), 16);\r\n\t\t\t\tconst r = (bigint >> 16) & 255;\r\n\t\t\t\tconst g = (bigint >> 8) & 255;\r\n\t\t\t\tconst b = bigint & 255;\r\n\t\t\t\r\n\t\t\t\treturn `rgba(${r}, ${g}, ${b}, ${opacity})`;\r\n\t\t\t}\r\n\r\n\r\n            let backgroundColor;\r\n\t\t\tlet textColor;\r\n\r\n            if(paginationColors){\r\n                backgroundColor = hexToRgba(paginationColors, 0.1); \r\n                textColor = hexToRgba(paginationColors, 0.9); \r\n            }\r\n\r\n            let defaultPaginationColor = paginationColors || '#828282';\r\n            let simplePaginationColor = paginationColors || '#000'; \r\n\r\n\r\n\r\n            let styleContent = `\r\n                .gswpts_${themeName} .dataTables_paginate a.paginate_button.item {\r\n                    color: #000;\r\n                }\r\n\r\n                .gswpts_${themeName} .dataTables_paginate.default-pagination-active .paginate_button.item.active {\r\n                    background-color: ${defaultPaginationColor} !important;\r\n                    color: #ffffff !important;\r\n                }\r\n\r\n                // Simple pagination free -------------------\r\n                .gswpts_${themeName} .simple-pagination-active .paginate_button, \r\n                .gswpts_${themeName} .simple-pagination-active .paginate_button.disabled, \r\n                .gswpts_${themeName} .simple-pagination-active .ellipsis{\r\n\r\n                    font-size: 14px;\r\n                    border: none;\r\n                    // margin: 0;\r\n                    // padding: 9px 16px;\r\n                    margin: 5px;\r\n                    padding: 5px 11px 4px 11px;\r\n\r\n                    font-weight: bold;\r\n                    display: flex;\r\n                    justify-content: center;\r\n                    align-items: center;\r\n                    flex-wrap: wrap;\r\n\r\n                }\r\n\r\n                .gswpts_${themeName} .simple-pagination-active .pagination.menu a{\r\n                    text-decoration: none;\r\n                }\r\n\r\n                .gswpts_${themeName} .dataTables_paginate.simple-pagination-active .paginate_button.item.active {\r\n                    background-color: ${simplePaginationColor} !important;\r\n                    color: #ffffff !important;\r\n                }\r\n\r\n                    \r\n                // Tailwind -----------------------------------------\r\n                .gswpts_${themeName} .tailwind-pagination-active .paginate_button.item.previous.disabled,\r\n                .gswpts_${themeName} .tailwind-pagination-active .paginate_button.item.next.disabled{\r\n                    border: unset !important;\r\n                    box-shadow: unset !important;\r\n                }\r\n\r\n                .gswpts_${themeName} .dataTables_paginate.tailwind-pagination-active .paginate_button.item.active {\r\n                    background-color: ${backgroundColor} !important;\r\n                    color: ${textColor} !important;\r\n                    border-radius: 5px !important;\r\n                }\r\n\r\n                .gswpts_${themeName} .dataTables_paginate.modern-pagination-active .paginate_button.item.active {\r\n                    background-color: ${paginationColors} !important;\r\n                    color: #ffffff !important;\r\n                }\r\n\r\n                // outlined\r\n               \r\n\r\n                .gswpts_${themeName} .outlined-pagination-active .paginate_button.item.previous.disabled,\r\n                .gswpts_${themeName} .outlined-pagination-active .paginate_button.item.next.disabled{\r\n                    border: unset !important;\r\n                    box-shadow: unset !important;\r\n                }\r\n\r\n                .gswpts_${themeName} .dataTables_paginate.outlined-pagination-active .paginate_button.item.active {\r\n                    background-color: #fff !important;\r\n                    border: 1px solid ${paginationColors} !important;\r\n                    color: ${paginationColors} !important;\r\n                }\r\n\r\n                .gswpts_${themeName} .dataTables_paginate.outlined-pagination-active .pagination.menu .previous\r\n                {\r\n                    background-color: ${paginationColors} !important;\r\n                    color: #fff !important;\r\n                }\r\n\r\n                .gswpts_${themeName} .dataTables_paginate.outlined-pagination-active .pagination.menu .previous.disabled\r\n                {\r\n                    background-color: #F2F2F2 !important;\r\n                    color: #666 !important;\r\n                     svg path {\r\n                        fill: #666 !important\r\n                    }\r\n                }\r\n\r\n                .gswpts_${themeName} .dataTables_paginate.outlined-pagination-active .pagination.menu .next\r\n                {\r\n                    background-color: ${paginationColors} !important;\r\n                    color: #fff !important;\r\n                }\r\n\r\n                .gswpts_${themeName} .dataTables_paginate.outlined-pagination-active .pagination.menu .next.disabled\r\n                {\r\n                    background-color: #F2F2F2 !important;\r\n                    color: #666 !important;\r\n                     svg path {\r\n                        fill: #666 !important;\r\n                    }\r\n                }\r\n\r\n                \r\n\r\n            `;\r\n            \r\n\r\n            if (tableStyles.includes('--pagination_center: 1;')) {\r\n                // console.log(\"Found\");\r\n                styleContent += `\r\n                    .gswpts_${themeName} #create_tables_paginate#create_tables_paginate {\r\n                        margin-left: 40% !important;\r\n                        position: absolute;\r\n                        margin-top: 30px;\r\n                        margin-right: 28% !important;\r\n                    }\r\n                    \r\n                `;\r\n            }\r\n\r\n            // Create a <style> element and append it to the head\r\n            const styleElement = document.createElement('style');\r\n            styleElement.id = `swptls-default-theme-pagination-${themeName}`;\r\n            styleElement.textContent = styleContent;\r\n            document.head.appendChild(styleElement);\r\n        \r\n            // return;\r\n        }\r\n        else{\r\n            // Find the table element within the provided elem\r\n            const tableElem = $(elem).find('table.ui.celled.display.table.gswpts_tables');\r\n\r\n            if (tableElem.length === 0) {\r\n                console.error('Table element not found');\r\n                return;\r\n            }\r\n\r\n            const tableStyles = tableElem.attr('style');\r\n\r\n            function getCustomPropertyValue(styleString, propertyName) {\r\n                // Create a regular expression to find the property name followed by its value\r\n                const regex = new RegExp(`${propertyName}:\\\\s*([^;]+);?`, 'i');\r\n                const match = styleString.match(regex);\r\n                return match ? match[1].trim() : null;\r\n            }\r\n            const paginationColors = getCustomPropertyValue(tableStyles, '--pagination-colors');\r\n\r\n            const hexToRgba = (hex, opacity) => {\r\n\t\t\t\tconst bigint = parseInt(hex.slice(1), 16);\r\n\t\t\t\tconst r = (bigint >> 16) & 255;\r\n\t\t\t\tconst g = (bigint >> 8) & 255;\r\n\t\t\t\tconst b = bigint & 255;\r\n\t\t\t\r\n\t\t\t\treturn `rgba(${r}, ${g}, ${b}, ${opacity})`;\r\n\t\t\t}\r\n\r\n\r\n            let backgroundColor;\r\n\t\t\tlet textColor;\r\n\r\n            backgroundColor = hexToRgba(paginationColors, 0.1); \r\n\t\t\ttextColor = hexToRgba(paginationColors, 0.9); \r\n\r\n\r\n            let styleContent = `\r\n                \r\n                .gswpts_${themeName} table.ui.celled.display {\r\n                    border: none;\r\n                    border-collapse: unset;\r\n                }   \r\n                    \r\n                // Pagination \r\n                // Default pagination -------------------------------------------//\r\n\r\n                .gswpts_${themeName} .default-pagination-active .paginate_button.item.previous.disabled,\r\n                .gswpts_${themeName} .default-pagination-active .paginate_button.item.next.disabled\r\n                {\r\n                    border: 1px solid rgba(169,161,161,0.23922) !important;\r\n                    box-shadow: unset !important;\r\n                }\r\n\r\n                .gswpts_${themeName} .dataTables_paginate.default-pagination-active{\r\n                --pagination-colors: ${paginationColors};\r\n                    a.paginate_button.item.active {\r\n                        background-color: var(--pagination-colors) !important;\r\n                        color: #ffffff !important;\r\n                    }\r\n                }\r\n\r\n                // Modern pagination -------------------------------------------//\r\n                \r\n                .gswpts_${themeName} .modern-pagination-active .paginate_button.item.previous.disabled,\r\n                .gswpts_${themeName} .modern-pagination-active .paginate_button.item.next.disabled{\r\n                    border: unset !important;\r\n                    box-shadow: unset !important;\r\n                }\r\n                \r\n                .gswpts_${themeName} .dataTables_paginate.modern-pagination-active{\r\n                --pagination-colors: ${paginationColors};\r\n                    a.paginate_button.item.active {\r\n                        background-color: var(--pagination-colors) !important;\r\n                        color: #ffffff !important;\r\n                        border-radius: 50%;\r\n                        border: transparent;\r\n\r\n                    }\r\n                }\r\n\r\n                .paginate_button.previous.disabled {\r\n                    opacity: 0.5;\r\n                }\r\n\r\n                .paginate_button.next.disabled .paging-forward-modern_pagination{\r\n                    opacity: 0.5;\r\n                }\r\n\r\n                .gswpts_${themeName} .dataTables_paginate.modern-pagination-active .paginate_button{\r\n                    box-sizing: border-box;\r\n                    display: inline-block;\r\n                    min-width: 1.5em;\r\n                    padding: .5em 1em;\r\n                    margin-left: 2px;\r\n                    text-align: center;\r\n                    text-decoration: none !important;\r\n                    cursor: pointer;\r\n                    color: inherit !important;\r\n                    border: 1px solid transparent;\r\n                    border-radius: 2px;\r\n                    background: transparent;\r\n\r\n                }\r\n\r\n                // Simple pagination -------------------------------------------//\r\n                \r\n                .gswpts_${themeName} .simple-pagination-active .paginate_button.item.previous.disabled,\r\n                .gswpts_${themeName} .simple-pagination-active .paginate_button.item.next.disabled{\r\n                    border: unset !important;\r\n                    box-shadow: unset !important;\r\n                }\r\n                \r\n                .gswpts_${themeName} .dataTables_paginate.simple-pagination-active{\r\n                --pagination-colors: ${paginationColors};\r\n                    a.paginate_button.item.active {\r\n                        background-color: var(--pagination-colors) !important;\r\n                        color: #ffffff !important;\r\n                        border-radius: 4px;\r\n                        border: transparent;\r\n\r\n                    }\r\n                }\r\n\r\n                .paginate_button.previous.disabled {\r\n                    opacity: 0.5;\r\n                }\r\n\r\n                .paginate_button.next.disabled .paging-forward-simple_pagination{\r\n                    opacity: 0.5;\r\n                }\r\n\r\n                .gswpts_${themeName} .dataTables_paginate.simple-pagination-active .paginate_button{\r\n                    box-sizing: border-box;\r\n                    display: inline-block;\r\n                    min-width: 1.5em;\r\n                    padding: .5em 1em;\r\n                    margin-left: 2px;\r\n                    text-align: center;\r\n                    text-decoration: none !important;\r\n                    cursor: pointer;\r\n                    color: inherit !important;\r\n                    border: 1px solid transparent;\r\n                    border-radius: 2px;\r\n                    background: transparent;\r\n\r\n                }\r\n\r\n                // Tailwind pagination -------------------------------------------//\r\n                \r\n                .gswpts_${themeName} .tailwind-pagination-active .paginate_button.item.previous.disabled,\r\n                .gswpts_${themeName} .tailwind-pagination-active .paginate_button.item.next.disabled{\r\n                    border: unset !important;\r\n                    box-shadow: unset !important;\r\n                }\r\n                \r\n                .gswpts_${themeName} .dataTables_paginate.tailwind-pagination-active{\r\n                --pagination-colors: ${paginationColors};\r\n                    a.paginate_button.item.active {\r\n                        background-color: ${backgroundColor} !important;\r\n                        color: ${textColor} !important;\r\n                        border-radius: 4px;\r\n                        border: transparent;\r\n\r\n                    }\r\n                }\r\n\r\n                .paginate_button.previous.disabled {\r\n                    opacity: 0.5;\r\n                }\r\n\r\n                .paginate_button.next.disabled .paging-forward-tailwind_pagination{\r\n                    opacity: 0.5;\r\n                }\r\n\r\n                .gswpts_${themeName} .dataTables_paginate.tailwind-pagination-active .paginate_button{\r\n                    box-sizing: border-box;\r\n                    display: inline-block;\r\n                    min-width: 1.5em;\r\n                    padding: .5em 1em;\r\n                    margin-left: 2px;\r\n                    text-align: center;\r\n                    text-decoration: none !important;\r\n                    cursor: pointer;\r\n                    color: inherit !important;\r\n                    border: 1px solid transparent;\r\n                    border-radius: 2px;\r\n                    background: transparent;\r\n\r\n                }\r\n\r\n                // Outline pagination -------------------------------------------//\r\n                \r\n                .gswpts_${themeName} .outlined-pagination-active .paginate_button.item.previous.disabled,\r\n                .gswpts_${themeName} .outlined-pagination-active .paginate_button.item.next.disabled{\r\n                    border: unset !important;\r\n                    box-shadow: unset !important;\r\n                }\r\n                \r\n                .gswpts_${themeName} .dataTables_paginate.outlined-pagination-active{\r\n                --pagination-colors: ${paginationColors};\r\n                    a.paginate_button.item.active {\r\n                        background-color: #ffffff !important;\r\n                        color: var(--pagination-colors) !important;\r\n                        border: 1px solid var(--pagination-colors) !important;\r\n                        border-radius: 5px !important;\r\n\r\n                    }\r\n\r\n                    span.paging-forward-outlined_pagination{\r\n                        background-color: var(--pagination-colors) !important;\r\n                        color: #ffffff !important;\r\n                        border-radius: 5px !important;\r\n                        padding: 10px 18px;\r\n                    }\r\n\r\n                    .paginate_button.previous{\r\n                        background-color: var(--pagination-colors) !important;\r\n                        border-radius: 5px !important;\r\n                        \r\n                        svg path {\r\n                            fill: #ffffff !important;\r\n                        }\r\n                    }\r\n\r\n                    .paginate_button.previous.disabled {\r\n                        background-color: #F2F2F2 !important;\r\n                        color: #666 !important; \r\n                        svg path {\r\n                            fill: #666 !important;\r\n                        }\r\n                    }\r\n\r\n                    .paginate_button.next.disabled .paging-forward-outlined_pagination{\r\n                        background-color: #F2F2F2 !important;\r\n                        color: #666 !important; \r\n                        svg path {\r\n                            fill: #666 !important;\r\n                        }\r\n                    }\r\n                }\r\n                    \r\n                .gswpts_${themeName} .dataTables_paginate.outlined-pagination-active .paginate_button{\r\n                    box-sizing: border-box;\r\n                    display: inline-block;\r\n                    min-width: 1.5em;\r\n                    padding: .5em 1em;\r\n                    margin-left: 2px;\r\n                    text-align: center;\r\n                    text-decoration: none !important;\r\n                    cursor: pointer;\r\n                    color: inherit !important;\r\n                    border: 1px solid transparent;\r\n                    border-radius: 2px;\r\n                    background: transparent;\r\n\r\n                }\r\n                   \r\n            `;\r\n\r\n\r\n            // Check for border type\r\n            if (tableStyles.includes('--border-type: rounded;')) {\r\n                styleContent += `\r\n                    .gswpts_${themeName} thead th:first-child {\r\n                        border-radius: var(--border-radius) 0 0 0 !important\r\n                    }\r\n                    .gswpts_${themeName} thead th:last-child {\r\n                        border-radius: 0 var(--border-radius) 0 0 !important\r\n                    }\r\n                    .gswpts_${themeName} tr:last-child td:first-child {\r\n                        border-radius: 0 0 0 var(--border-radius) !important\r\n                    }\r\n                    .gswpts_${themeName} tr:last-child td:last-child {\r\n                        border-radius: 0 0 var(--border-radius) 0 !important\r\n                    }\r\n                `;\r\n            }\r\n\r\n            \r\n            // Outside border \r\n            styleContent += `\r\n                /* .gswpts_${themeName} tbody tr td:first-child {\r\n                    border-left: 1px solid var(--outside-border-color) !important;\r\n                }\r\n\r\n                .gswpts_${themeName}  tbody tr td:last-child {\r\n                    border-right: 1px solid var(--outside-border-color) !important;\r\n                } */\r\n\r\n                .gswpts_${themeName} tbody tr:last-child td {\r\n                    border-bottom: 1px solid var(--outside-border-color) !important;\r\n                }\r\n\r\n            `;\r\n\r\n            // Roundeed border \r\n            if (tableStyles.includes('--border-type: rounded;')) {\r\n                styleContent += `\r\n                    .gswpts_${themeName} thead th:first-child {\r\n                        border-radius: var(--border-radius) 0 0 0 !important;\r\n                        border-right: none !important;\r\n                    }\r\n\r\n                    .gswpts_${themeName} thead th:last-child {\r\n                        border-radius: 0 var(--border-radius) 0 0 !important;\r\n                        border-left: none !important;\r\n                    }\r\n\r\n                    .gswpts_${themeName} tr:last-child td:first-child {\r\n                        border-radius: 0 0 0 var(--border-radius) !important;\r\n                    }\r\n\r\n                    .gswpts_${themeName} tr:last-child td:last-child {\r\n                        border-radius: 0 0 var(--border-radius) 0 !important;\r\n                    }\r\n                `;\r\n            }\r\n\r\n            // Check for column color activation\r\n            if (tableStyles.includes('--active-row-column-mode: 1;') && tableStyles.includes('--column-color-active: 1;')) {\r\n                styleContent += `\r\n                    .gswpts_${themeName} tbody td:nth-child(odd) {\r\n                        background-color: var(--body-bg-color-odd) !important;\r\n                    }\r\n                    .gswpts_${themeName} tbody td:nth-child(even) {\r\n                        background-color: var(--body-bg-color-even) !important;\r\n                    }\r\n                `;\r\n            }\r\n\r\n            // Check for row color activation\r\n            if (tableStyles.includes('--active-row-column-mode: 1;') && tableStyles.includes('--row-color-active: 1;')) {\r\n                styleContent += `\r\n                    .gswpts_${themeName} tbody tr:nth-child(even) > td {\r\n                        background-color: var(--body-bg-color-even) !important;\r\n                    }\r\n                    .gswpts_${themeName} tbody tr:nth-child(odd) > td {\r\n                        background-color: var(--body-bg-color-odd) !important;\r\n                    }\r\n                `;\r\n                \r\n            }\r\n\r\n        \r\n\r\n            // Hover \r\n            // Check for column hover activation\r\n            if (tableStyles.includes('--hover-mode-row: 1;')) {\r\n                styleContent += `\r\n                    .gswpts_${themeName} tbody tr:hover td,\r\n                    .gswpts_${themeName} tbody tr:hover th {\r\n                        background-color: var(--hover-bg-color) !important;\r\n                        color: var(--hover-text-color) !important;\r\n                    }\r\n                `;\r\n            }\r\n\r\n            if (tableStyles.includes('--hover-mode-col: 1;')) {\r\n                styleContent += `\r\n                    .gswpts_${themeName} table {\r\n                        overflow: hidden;\r\n                    }\r\n                    .gswpts_${themeName} td, th{\r\n                        border: 1px solid #999;\r\n                        padding: 10px;\r\n                        position: relative;\r\n                    }\r\n                    .gswpts_${themeName} td:hover::after { \r\n                        background-color: var(--hover-bg-color) !important;\r\n                        opacity: 0.2; \r\n                        content: '';  \r\n                        height: 10000px;    \r\n                        left: 0;\r\n                        position: absolute;  \r\n                        top: -5000px;\r\n                        width: 100%;\r\n                        z-index: 1;     \r\n                        transition: 300ms;  \r\n                    }\r\n                `;\r\n            }\r\n            \r\n\r\n            if (tableStyles.includes('--hover-mode-none: 1;')) {\r\n                styleContent += `\r\n                    .gswpts_${themeName} tbody td:hover,\r\n                    .gswpts_${themeName} tbody th:hover {\r\n                        background-color: var(--body-bg-color);\r\n                            color: var(--body-text-color);\r\n                    }\r\n                `;\r\n            }\r\n\r\n            if (tableStyles.includes('--pagination_center: 1;')) {\r\n                // console.log(\"Found\");\r\n                styleContent += `\r\n                    .gswpts_${themeName} #create_tables_paginate#create_tables_paginate {\r\n                        margin-left: 40% !important;\r\n                    }\r\n                    \r\n                `;\r\n            }\r\n            \r\n\r\n            // Create a <style> element and append it to the head\r\n            const styleElement = document.createElement('style');\r\n            styleElement.id = `swptls-custom-theme-style-${themeName}`;\r\n            styleElement.textContent = styleContent;\r\n            document.head.appendChild(styleElement);\r\n        }\r\n        \r\n\r\n        \r\n    }\r\n\r\n\r\n    /**\r\n     * Sort disable and hide from table\r\n     * @returns \r\n     */\r\n\r\n    handleSortingDisable($, elem) {\r\n        // Check if elem has a prevObject, and use it if present\r\n        if (elem.prevObject && elem.prevObject.length > 0) {\r\n            elem = elem.prevObject;\r\n        }\r\n    \r\n        // Check if the element exists\r\n        if (elem.length === 0) {\r\n            console.log(\"No element found within the given object.\");\r\n            return;\r\n        }\r\n    \r\n        // Iterate over the table containers\r\n        elem.each(function (index, container) {\r\n            var wrapper = $(container).find(\"#create_tables_wrapper\");\r\n            var sortingHeaders = wrapper.find(\"th.thead-item, th.sorting_asc, th.sorting_desc\"); // to hide full sorting \r\n    \r\n            // Disable click and pointer events\r\n            sortingHeaders.css({\r\n                \"pointer-events\": \"none\", \r\n                \"cursor\": \"default\",     \r\n            });\r\n    \r\n            // Add a class to hide the sorting icon\r\n            sortingHeaders.each(function () {\r\n                var element = $(this);\r\n    \r\n                // Add class to hide ::after icons\r\n                element.addClass(\"sorting-icon-hidden\");\r\n            });\r\n        });\r\n    }\r\n\r\n\r\n    // Updaet one with fix empty search click issues \r\n    /**\r\n     * Search wise table show and hide \r\n     * @returns \r\n     */\r\n    handleSearchoptions($, elem, search_by) {\r\n        if (elem.prevObject && elem.prevObject.length > 0) {\r\n            elem = elem.prevObject;\r\n        }\r\n\r\n        if (elem.length === 0) {\r\n            console.log(\"No element found within the given object.\");\r\n            return;\r\n        }\r\n\r\n        elem.each(function (index, container) {\r\n            var wrapper = $(container).find(\"#create_tables_wrapper\");\r\n            var searchInput = wrapper.find(\"#create_tables_filter input[type='search']\");\r\n            var tableContainer = wrapper.find(\".dataTables_scroll\");\r\n            var paginationContainer = wrapper.find(\".bottom_options.bottom_options_0\");\r\n\r\n            if (searchInput.length === 0) {\r\n                console.log('Search input not found inside #create_tables_filter for container:', container);\r\n                return;\r\n            }\r\n            if (tableContainer.length === 0) {\r\n                console.log('Table container not found for container:', container);\r\n                return;\r\n            }\r\n\r\n            wrapper.find(\".dataTables_length\").hide();\r\n           \r\n            function toggleTableVisibility() {\r\n                var searchTerm = searchInput.val();\r\n\r\n                // Condition for search-by-typing\r\n                if (search_by === 'search-by-typing') {\r\n                    if (!searchTerm || searchTerm.length < 1) {\r\n                        tableContainer.hide();\r\n                        paginationContainer.hide(); // Hide pagination when table is hidden\r\n                    } else {\r\n                        tableContainer.show();\r\n                        paginationContainer.show(); // Show pagination when table is visible\r\n                    }\r\n                } \r\n                // Condition for search-by-press\r\n                else if (search_by === 'search-by-press') {\r\n                    tableContainer.hide(); // Initially hide the table\r\n                    paginationContainer.hide(); // Initially hide pagination\r\n\r\n                    // Wait for the button click or Enter key event to show the table\r\n                    $(document).on('keypress', function (event) {\r\n                        if (event.which == 13) { // Enter key press\r\n                            var searchTerm = searchInput.val(); // Check the value again\r\n                            if (searchTerm && searchTerm.length >= 1) {\r\n                                tableContainer.show(); // Show the table only if search term is valid\r\n                                paginationContainer.show(); // Show pagination when table is visible\r\n                            } else {\r\n                                tableContainer.hide(); // Keep table hidden if search is empty\r\n                                paginationContainer.hide(); // Keep pagination hidden\r\n                                console.log(\"Search is empty. Table will not be shown.\");\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n\r\n            toggleTableVisibility();\r\n\r\n            searchInput.on('input', function () {\r\n                toggleTableVisibility();\r\n            });\r\n\r\n            wrapper.find(\"#create_tables_filter\").css({ width: '100%' });\r\n        });\r\n    }\r\n\r\n     /**\r\n     * Sticky header and column \r\n     * @returns \r\n     */\r\n    handleSticky($, elem, enable_fixed_columns, left_columns, right_columns, enable_fixed_headers, header_offset) {\r\n        if (elem.prevObject && elem.prevObject.length > 0) {\r\n            elem = elem.prevObject;\r\n        }\r\n    \r\n        if (elem.length === 0) {\r\n            console.log(\"No element found within the given object.\");\r\n            return;\r\n        }\r\n    \r\n        // Find the table and scroll elements\r\n        const tableElem = $(elem).find('div.dataTables_scrollHead thead th');\r\n        const bodyElem = $(elem).find('div.dataTables_scrollBody tbody td');\r\n        const scrollElem = $(elem).find('div.dataTables_scroll');\r\n    \r\n        if (tableElem.length === 0) {\r\n            console.error('Table element not found');\r\n            return;\r\n        }\r\n    \r\n        // Enable fixed headers\r\n        if (enable_fixed_headers) {\r\n            $(elem).find('div.dataTables_scrollHead').addClass('fixed-header-active').css({\r\n                position: 'sticky',\r\n                top: `${header_offset}px`,\r\n                zIndex: 100,\r\n                boxShadow: '0px 2px 5px rgba(0,0,0,0.1)',\r\n            });\r\n        }\r\n    \r\n        // Handle left sticky columns\r\n        if (enable_fixed_columns && left_columns > 0) {\r\n            let leftWidth = 0;\r\n    \r\n            $(tableElem).each(function (index) {\r\n                if (index < left_columns) {\r\n                    const columnWidth = $(this).outerWidth();\r\n                    leftWidth += columnWidth;\r\n    \r\n                    // Apply sticky position for headers and add a class\r\n                    $(this).addClass(`sticky-applied-lft sticky-left-head sticky-left-col-${index + 1}`).css({\r\n                        position: 'sticky',\r\n                        left: `${leftWidth - columnWidth}px`,\r\n                        zIndex: 2,\r\n                        boxShadow: '2px 0px 5px rgba(0,0,0,0.1)', \r\n                    });\r\n    \r\n                    // Apply sticky position for body cells and add a class\r\n                    $(bodyElem).each(function () {\r\n                        const cell = $(this).parent().children(`:nth-child(${index + 1})`);\r\n                        cell.addClass(`sticky-applied-lft sticky-left-body sticky-left-col-${index + 1}`).css({\r\n                            position: 'sticky',\r\n                            left: `${leftWidth - columnWidth}px`,\r\n                            zIndex: 1,\r\n                            boxShadow: '2px 0px 5px rgba(0,0,0,0.1)', \r\n                        });\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    \r\n        // Handle right sticky columns\r\n        if (enable_fixed_columns && right_columns > 0) {\r\n            let rightWidth = 0;\r\n    \r\n            $(tableElem.get().reverse()).each(function (reverseIndex) {\r\n                const totalColumns = tableElem.length;\r\n                const columnIndex = totalColumns - reverseIndex - 1;\r\n    \r\n                if (reverseIndex < right_columns) {\r\n                    const columnWidth = $(this).outerWidth();\r\n                    rightWidth += columnWidth;\r\n    \r\n                    // Apply sticky position for headers and add a class\r\n                    $(this).addClass(`sticky-applied-rgt sticky-right-head sticky-right-col-${reverseIndex + 1}`).css({\r\n                        position: 'sticky',\r\n                        right: `${rightWidth - columnWidth}px`,\r\n                        zIndex: 2,\r\n                        boxShadow: '-2px 0px 5px rgba(0,0,0,0.1)', \r\n                    });\r\n    \r\n                    // Apply sticky position for body cells and add a class\r\n                    $(bodyElem).each(function () {\r\n                        const cell = $(this).parent().children(`:nth-child(${columnIndex + 1})`);\r\n                        cell.addClass(`sticky-applied-rgt sticky-right-body sticky-right-col-${reverseIndex + 1}`).css({\r\n                            position: 'sticky',\r\n                            right: `${rightWidth - columnWidth}px`,\r\n                            zIndex: 1,\r\n                            boxShadow: '-2px 0px 5px rgba(0,0,0,0.1)', \r\n                        });\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    \r\n        // Add fixed columns class for easier styling\r\n        if (enable_fixed_columns) {\r\n            scrollElem.addClass('fixed-col-active');\r\n        }\r\n    }\r\n\r\n    \r\n\r\n\r\n    /**\r\n     * Create search button and disable the search auto and serch using search button\r\n     * @returns Search button empty press issue fix \r\n     */\r\n    CreateSearchoptions($, elem, search_by) {\r\n        if (elem.prevObject && elem.prevObject.length > 0) {\r\n            elem = elem.prevObject;\r\n        }\r\n\r\n        if (elem.length === 0) {\r\n            console.log(\"No element found within the given object.\");\r\n            return;\r\n        }\r\n\r\n        elem.each(function (index, container) {\r\n            var table = $(container).find('#create_tables').DataTable();\r\n            var filter_input = $(container).find('#create_tables_filter input[type=\"search\"]').unbind();\r\n            var wrapper = $(container).find(\"#create_tables_wrapper\");\r\n            var tableContainer = $(container).find(\".dataTables_scroll\");\r\n            var paginationContainer = $(container).find(\".bottom_options.bottom_options_0\");\r\n\r\n            // Check if search_by is 'search-by-press' and add the class\r\n            if (search_by === 'search-by-press') {\r\n                $(container).find('#create_tables_filter').addClass('searchBypress');\r\n            }\r\n\r\n            // Create Search button front_end_data.strings['search']\r\n            var search_button = $('<button type=\"button\" class=\"ui button search-by-press search-btn\"></button>')\r\n            .text(front_end_data.strings['search-btn'])\r\n            .click(function () {\r\n                var searchTerm = filter_input.val();\r\n\r\n                // Ensure the search only triggers if there is a valid input\r\n                if (searchTerm && searchTerm.trim().length > 0) {\r\n                    table.search(searchTerm).draw();\r\n\r\n                    // Show table and pagination if there is valid input\r\n                    if (search_by === 'search-by-press') {\r\n                        tableContainer.show();\r\n                        paginationContainer.show(); // Show pagination when showing table\r\n                    }\r\n                } else {\r\n                    // Keep the table and pagination hidden if search input is empty\r\n                    tableContainer.hide();\r\n                    paginationContainer.hide(); // Hide pagination when hiding table\r\n                    /* console.log(\"Search input is empty. Table will not be shown.\"); */\r\n                }\r\n            });\r\n\r\n            // Create Clear button front_end_data.strings['clear']\r\n            var clear_button = $('<button type=\"button\" class=\"ui button search-by-press clear-btn\"></button>')\r\n            .text(front_end_data.strings['clear-btn'])\r\n            .click(function () {\r\n                filter_input.val('');\r\n                table.search('').draw();\r\n\r\n                // Hide table and pagination when cleared\r\n                if (search_by === 'search-by-press') {\r\n                    tableContainer.hide();\r\n                    paginationContainer.hide(); // Hide pagination when hiding table\r\n                } else if (search_by === 'search-by-typing') {\r\n                    tableContainer.hide();\r\n                    paginationContainer.hide(); // Also handle the typing case for clear button\r\n                }\r\n            });\r\n\r\n            // Append the search and clear buttons\r\n            $(container).find('#create_tables_filter').append(search_button, clear_button);\r\n\r\n            // Handle Enter keypress event\r\n            $(document).keypress(function (event) {\r\n                if (event.which == 13) { // Enter key is pressed\r\n                    search_button.click();\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    \r\n        \r\n    html_loader() {\r\n        let loader = `\r\n               <div class=\"ui segment gswpts_table_loader\">\r\n                        <div class=\"ui active inverted dimmer\">\r\n                            <div class=\"ui large text loader\">Loading</div>\r\n                        </div>\r\n                        <p></p>\r\n                        <p></p>\r\n                        <p></p>\r\n                </div>\r\n            `;\r\n        return loader;\r\n    }\r\n\r\n    clearOverflow() {\r\n        if (\r\n            /Android|webOS|iPhone|iPad|Mac|Macintosh|iPod|BlackBerry|IEMobile|Opera Mini/i.test(\r\n                navigator.userAgent\r\n            )\r\n        ) {\r\n            if (\r\n                this.detectBrowser() == \"Chrome\" ||\r\n                this.detectBrowser() == \"Safari\" ||\r\n                this.detectBrowser() == \"MSIE\"\r\n            ) {\r\n                let tableScrollBody = document.querySelectorAll(\r\n                    \".gswpts_tables_container .dataTables_scrollBody\"\r\n                );\r\n\r\n                if (tableScrollBody) {\r\n                    tableScrollBody.forEach((element) => {\r\n                        if (\r\n                            element.parentElement.parentElement.parentElement.parentElement.classList.contains(\r\n                                \"collapse_style\"\r\n                            )\r\n                        ) {\r\n                            element.style.overflow = \"unset\";\r\n                            element.style.height = \"unset\";\r\n                            element.style.maxHeight = \"unset\";\r\n                        }\r\n                    });\r\n                }\r\n\r\n                // this.hideEmptyCell();\r\n            }\r\n        }\r\n    }\r\n\r\n    detectBrowser() {\r\n        if ((navigator.userAgent.indexOf(\"Opera\") || navigator.userAgent.indexOf(\"OPR\")) != -1) {\r\n            return \"Opera\";\r\n        } else if (navigator.userAgent.indexOf(\"Chrome\") != -1) {\r\n            return \"Chrome\";\r\n        } else if (navigator.userAgent.indexOf(\"Safari\") != -1) {\r\n            return \"Safari\";\r\n        } else if (navigator.userAgent.indexOf(\"Firefox\") != -1) {\r\n            return \"Firefox\";\r\n        } else if (navigator.userAgent.indexOf(\"MSIE\") != -1 || !!document.documentMode == true) {\r\n            return \"IE\"; //crap\r\n        } else {\r\n            return \"Unknown\";\r\n        }\r\n    }\r\n\r\n    hideEmptyCell() {\r\n        let tableCells = document.querySelectorAll(\".gswpts_tables_container td\");\r\n        if (!tableCells) return;\r\n\r\n        tableCells.forEach((element) => {\r\n            if (element.innerText == \"\") {\r\n                // element.style.display = \"none\";\r\n                element.innerText = \"No data\";\r\n            }\r\n        });\r\n    }\r\n\r\n    bindDragScroll($container, $scroller) {\r\n        var $window = jQuery(window);\r\n\r\n        var x = 0;\r\n        var y = 0;\r\n\r\n        var x2 = 0;\r\n        var y2 = 0;\r\n        var t = 0;\r\n\r\n        $container.on(\"mousedown\", down);\r\n        $container.on(\"click\", preventDefault);\r\n        $scroller.on(\"mousewheel\", horizontalMouseWheel); // prevent macbook trigger prev/next page while scrolling\r\n\r\n        function down(evt) {\r\n            if (evt.button === 0) {\r\n                t = Date.now();\r\n                x = x2 = evt.pageX;\r\n                y = y2 = evt.pageY;\r\n\r\n                $container.addClass(\"down\");\r\n                $window.on(\"mousemove\", move);\r\n                $window.on(\"mouseup\", up);\r\n\r\n                evt.preventDefault();\r\n            }\r\n        }\r\n\r\n        function move(evt) {\r\n            // alert(\"move\");\r\n            if ($container.hasClass(\"down\")) {\r\n                var _x = evt.pageX;\r\n                var _y = evt.pageY;\r\n                var deltaX = _x - x;\r\n                var deltaY = _y - y;\r\n\r\n                $scroller[0].scrollLeft -= deltaX;\r\n\r\n                x = _x;\r\n                y = _y;\r\n            }\r\n        }\r\n\r\n        function up(evt) {\r\n            $window.off(\"mousemove\", move);\r\n            $window.off(\"mouseup\", up);\r\n\r\n            var deltaT = Date.now() - t;\r\n            var deltaX = evt.pageX - x2;\r\n            var deltaY = evt.pageY - y2;\r\n            if (deltaT <= 300) {\r\n                $scroller.stop().animate(\r\n                    {\r\n                        scrollTop: \"-=\" + deltaY * 3,\r\n                        scrollLeft: \"-=\" + deltaX * 3,\r\n                    },\r\n                    500,\r\n                    function (x, t, b, c, d) {\r\n                        // easeOutCirc function from http://gsgd.co.uk/sandbox/jquery/easing/\r\n                        return c * Math.sqrt(1 - (t = t / d - 1) * t) + b;\r\n                    }\r\n                );\r\n            }\r\n\r\n            t = 0;\r\n\r\n            $container.removeClass(\"down\");\r\n        }\r\n\r\n        function preventDefault(evt) {\r\n            if (x2 !== evt.pageX || y2 !== evt.pageY) {\r\n                evt.preventDefault();\r\n                return false;\r\n            }\r\n        }\r\n\r\n        function horizontalMouseWheel(evt) {\r\n            evt = evt.originalEvent;\r\n            var x = $scroller.scrollLeft();\r\n            var max = $scroller[0].scrollWidth - $scroller[0].offsetWidth;\r\n            var dir = evt.deltaX || evt.wheelDeltaX;\r\n            var stop = dir > 0 ? x >= max : x <= 0;\r\n            if (stop && dir) {\r\n                evt.preventDefault();\r\n            }\r\n        }\r\n    }\r\n\r\n    addGrabCursonOnMouseDown(elem) {\r\n        elem.mousedown((e) => {\r\n            elem.css({\r\n                cursor: \"grab\",\r\n            });\r\n        });\r\n        elem.mouseup((e) => {\r\n            elem.css({\r\n                cursor: \"auto\",\r\n            });\r\n        });\r\n    }\r\n}\r\n","import Global_Table_Config from \"./common_func\";\r\n\r\njQuery(document).ready(function ($) {\r\n    class Data_Tables_Async {\r\n        constructor() {\r\n            this.frontend_table = $(\".gswpts_tables_container\");\r\n\r\n            if (front_end_data.asynchronous_loading == \"on\") {\r\n                this.events();\r\n            } else {\r\n                return;\r\n            }\r\n        }\r\n        events() {\r\n            this.get_frontend_table();\r\n        }\r\n\r\n        get_frontend_table() {\r\n            $.each(this.frontend_table, function (i, elem) {\r\n                let id = $(elem).attr(\"id\");\r\n                $.ajax({\r\n                    url  : front_end_data.admin_ajax,\r\n                    data : {\r\n                        action : \"gswpts_sheet_fetch\",\r\n                        id     : id,\r\n                        nonce  : window?.front_end_data?.nonce,\r\n                    },\r\n                    type: \"post\",\r\n                    success: (res) => {\r\n                        let tableClass = new Global_Table_Config();\r\n                        let table_settings = res.data.table_settings;\r\n\r\n                        // if (tableClass.isProPluginActive()) {\r\n                        if (table_settings?.responsive_style) {\r\n                            $(elem).addClass(table_settings?.responsive_style);\r\n                        }\r\n\r\n                        if (table_settings?.import_styles) {\r\n                            $(elem).addClass(`gswpts_default-style`);\r\n                        } else {\r\n                            $(elem).addClass(\r\n                                `gswpts_${\r\n                                    table_settings?.table_style\r\n                                        ? table_settings?.table_style\r\n                                        : \"default-style\"\r\n                                }`\r\n                            );\r\n                        }\r\n\r\n                        $(elem).addClass(`gswpts_default-style`);\r\n                        // }\r\n\r\n                        if (table_settings?.show_title == \"true\") {\r\n                            $(elem).find(\"h3\").html(res.data.table_name);\r\n                        }\r\n\r\n                        $(elem).find(\".gswpts_tables_content\").html(res.data.output);\r\n\r\n                        let table_name = res.data.name;\r\n                        let sheetUrl   = res.data.source_url;\r\n\r\n                        tableClass.table_configuration(\r\n                            $,\r\n                            i,\r\n                            elem,\r\n                            table_name,\r\n                            table_settings,\r\n                            sheetUrl\r\n                        );\r\n\r\n                        let scrollerContainer = $(elem).find(\".dataTables_scroll\");\r\n                        let scrollerElement = $(elem).find(\".dataTables_scrollBody\");\r\n\r\n                        if (scrollerElement) {\r\n\r\n                            //Extra header issue fix it how it was before when click the sort icon and has header merge\r\n                            function handleCommonActions(theadElement) {\r\n                                console.clear(); // Clearing a few basic logs that are not needed to show\r\n                                if (theadElement) {\r\n                                    // Select all tr elements within theadElement\r\n                                    var trElements = theadElement.querySelectorAll('tr');\r\n                            \r\n                                    // Iterate through each trElement\r\n                                    trElements.forEach(function(trElement) {\r\n                                        // Apply height style to each trElement\r\n                                        trElement.style.height = '0px';\r\n                            \r\n                                        // Select all th elements within theadElement\r\n                                        var thElements = trElement.querySelectorAll('th');\r\n                            \r\n                                        // Iterate through each thElement\r\n                                        thElements.forEach(function(thElement) {\r\n                                            // Create a new div element with the required styles\r\n                                            var divElement = document.createElement('div');\r\n                                            divElement.className = 'dataTables_sizing';\r\n                                            divElement.style.height = '0px';\r\n                                            divElement.style.overflow = 'hidden';\r\n                                            divElement.innerText = thElement.innerText; // Copy the text content\r\n                            \r\n                                            // Empty the thElement and append the divElement\r\n                                            thElement.innerHTML = '';\r\n                                            thElement.appendChild(divElement);\r\n                            \r\n                                            // Apply styles to each thElement\r\n                                            thElement.style.paddingTop = '0px';\r\n                                            thElement.style.paddingBottom = '0px';\r\n                                            thElement.style.borderTopWidth = '0px';\r\n                                            thElement.style.borderBottomWidth = '0px';\r\n                                            thElement.style.height = '0px';\r\n                                            thElement.style.textAlign = 'center';\r\n                                            // thElement.style.display = 'none';\r\n                                        });\r\n                                    });\r\n                                }\r\n                            }\r\n                            \r\n                            function handlePagination() {\r\n                                var createTablesPaginate = document.getElementById('create_tables_paginate');\r\n                                if (createTablesPaginate) {\r\n                                    var container = createTablesPaginate.closest(\".gswpts_tables_container\");\r\n                                    var scrollBody = container.querySelector('.dataTables_scrollBody');\r\n                                    var thead = scrollBody.querySelector('thead');\r\n                                    handleCommonActions(thead);\r\n                                }\r\n                            }\r\n    \r\n    \r\n                            var tableHeaders = document.querySelectorAll('.thead-item[data-merge]');\r\n                            tableHeaders.forEach(function (header) {\r\n                                // Check if the current header has the data-merge attribute.\r\n                                var dataMerge = header.getAttribute('data-merge');\r\n                                if (dataMerge) {\r\n                                    var sortingElements = document.querySelectorAll('.sorting');\r\n                                    var dataTablesLength = document.querySelectorAll('.dataTables_length');\r\n                                    var dataTables_filter = document.querySelectorAll('.dataTables_filter');\r\n                                    var createTablesFilterInputs = document.querySelectorAll('.dataTables_filter input');\r\n                                    var paginateContainer = document.getElementById('create_tables_paginate');\r\n    \r\n                                    // Add a click event listener to each sorting element\r\n                                    sortingElements.forEach(function (sortingElement) {\r\n                                        sortingElement.addEventListener('click', function () {\r\n                                            // Find the .dataTables_scrollBody element within the same container\r\n                                            var container = sortingElement.closest(\".gswpts_tables_container\");\r\n                                            var scrollBody = container.querySelector('.dataTables_scrollBody');\r\n                                            // Find the <thead> element within the .dataTables_scrollBody\r\n                                            var thead = scrollBody.querySelector('thead');\r\n                                            handleCommonActions(thead);\r\n                                        });\r\n                                    });\r\n                                \r\n                                    // Add a click event listener to each dataTablesLength element\r\n                                    dataTablesLength.forEach(function (LengthElement) {\r\n                                        LengthElement.addEventListener('click', function () {\r\n                                            var container = LengthElement.closest(\".gswpts_tables_container\");\r\n                                            var scrollBody = container.querySelector('.dataTables_scrollBody');\r\n                                            var thead = scrollBody.querySelector('thead');\r\n                                            handleCommonActions(thead);\r\n                                            // console.log(\"click on dataTablesLength\");\r\n                                        });\r\n                                    });\r\n                                \r\n                                    // Add a click event listener to each dataTables_filter element\r\n                                    dataTables_filter.forEach(function (FilterElement) {\r\n                                        FilterElement.addEventListener('click', function () {\r\n                                            var container = FilterElement.closest(\".gswpts_tables_container\");\r\n                                            var scrollBody = container.querySelector('.dataTables_scrollBody');\r\n                                            var thead = scrollBody.querySelector('thead');\r\n                                            handleCommonActions(thead);\r\n                                            // console.log(\"click on dataTables_filter\");\r\n                                        });\r\n                                    });\r\n                \r\n                                    createTablesFilterInputs.forEach(function (createTablesFilterInput) {\r\n                                        createTablesFilterInput.addEventListener('input',function () {\r\n                                            var container = createTablesFilterInput.closest(\".gswpts_tables_container\");\r\n                                            var scrollBody = container.querySelector('.dataTables_scrollBody');\r\n                                            var thead = scrollBody.querySelector('thead');\r\n                                            handleCommonActions(thead);\r\n                                            // console.log(\"click on handleSearchFilter\");\r\n                                        });\r\n                                    });\r\n    \r\n                                    if (paginateContainer) {\r\n                                        paginateContainer.addEventListener('click', function (event) {\r\n                                            // Check if the clicked element is a paginate button\r\n                                            if (event.target.classList.contains('paginate_button')) {\r\n                                                handlePagination();\r\n                                                // console.log(\"click on paginate\");\r\n                                            }\r\n                                        });\r\n                                    }   \r\n                                }\r\n                            });\r\n                            \r\n                        }\r\n\r\n                        // END \r\n\r\n                        // Additional code for handling merged cells and text alignment\r\n                        tableClass.handleMergedCells($, elem);\r\n\r\n                        //Additional code for handling header merged cells and text alignment\r\n                        tableClass.handleHeaderMergedCells($, elem);\r\n                        \r\n                        tableClass.loadThemeStyle($, elem);\r\n\r\n                        if (front_end_data.isProActive) {\r\n                            if (table_settings?.cursor_behavior == \"left_right\") {\r\n                                // Add functionality of scrolling the table.\r\n                                tableClass.bindDragScroll(scrollerContainer, scrollerElement);\r\n                            }\r\n                            tableClass.addGrabCursonOnMouseDown($(elem).find(\"#create_tables\"));\r\n                        }\r\n                        \r\n                        // table width fixing \r\n                        /* if (table_settings?.merged_support) {\r\n                            tableClass.handleTableWidth($, $(elem).find(\".gswpts_tables_container\"));\r\n                        } */\r\n\r\n                        setInterval(function() {\r\n                            tableClass.handleTableWidth($, $(elem).find(\".gswpts_tables_container\"));\r\n                        }, 600);\r\n\r\n                        tableClass.handlePaginations($, elem);\r\n                        // tableClass.defaultThemepaginationStyle($, elem);\r\n\r\n                         // Disable sorting from the table\r\n                        if (table_settings?.hide_sorting_icon) {\r\n                            tableClass.handleSortingDisable($, $(elem).find(\".gswpts_tables_container\"));\r\n                        }\r\n                        \r\n                        // Makes the table hide and unhide\r\n                        if (table_settings?.table_view_mode === 'search-only-mode') {\r\n                            tableClass.handleSearchoptions($, $(elem).find(\".gswpts_tables_container\"), table_settings.search_by);\r\n                        }\r\n                        \r\n                        // Condition to load the search button and disable search in type and show search value once search button click or enter press        \r\n                        if (table_settings?.table_view_mode === 'search-only-mode' && table_settings?.search_by === 'search-by-press') {\r\n                            tableClass.CreateSearchoptions($, $(elem).find(\".gswpts_tables_container\"), table_settings.search_by);\r\n                        }\r\n\r\n                        if (tableClass.isProPluginActive()) {\r\n\r\n                            if (table_settings?.enable_fixed_columns || table_settings?.fixed_headers) {\r\n                                tableClass.handleSticky($, $(elem).find(\".gswpts_tables_container\"), table_settings.enable_fixed_columns, table_settings.left_columns, table_settings.right_columns, table_settings.fixed_headers, table_settings.header_offset );\r\n                            }\r\n                        }\r\n\r\n                        \r\n                        tableClass.clearOverflow();\r\n\r\n                        /**\r\n                         * FE Sorting fix by disable the sorting when has vertical merge \r\n                         */\r\n                        var tableRows = document.querySelectorAll('.gswpts_rows');\r\n                        var verticalMergeFound = false;\r\n                        if(tableRows){\r\n                            tableRows.forEach(function (row) {\r\n                                var cells = row.querySelectorAll('td');\r\n                                cells.forEach(function (cell, index) {\r\n                                    var rowspan = cell.getAttribute('rowspan');\r\n\r\n                                    if (rowspan && parseInt(rowspan) > 1) {\r\n                                        verticalMergeFound = true;\r\n                                    }\r\n                                });\r\n                            });\r\n                        }\r\n\r\n                        if (verticalMergeFound) {\r\n                            $.ajax({\r\n                                url  : front_end_data.admin_ajax,\r\n                                data : {\r\n                                    action : \"swptls_update_sorting_fe\",\r\n                                    id     : id,\r\n                                    nonce  : window?.front_end_data?.nonce,\r\n                                    allow_sorting: false,  \r\n                                },\r\n                                type: \"post\",\r\n                                success: (res) => {\r\n                                    \r\n                                },\r\n                                error: (err) => {\r\n                                \r\n                                },\r\n                            });\r\n\r\n                        }\r\n                        // END \r\n                        \r\n                    },\r\n                    error: (err) => {\r\n                        alert(\"Something went wrong\");\r\n                        console.error(err);\r\n                        $(elem)\r\n                            .find(\".gswpts_tables_content\")\r\n                            .html(\"<strong>Table could not be loaded. Try again</strong>\");\r\n                    },\r\n                });\r\n\r\n\r\n                \r\n\r\n            });\r\n        }\r\n    }\r\n\r\n    new Data_Tables_Async();\r\n});\r\n\r\n","import Global_Table_Config from \"./common_func\";\r\n\r\njQuery(document).ready(function ($) {\r\n    class Data_Tables_Default {\r\n        constructor() {\r\n            this.frontend_table = $(\".gswpts_tables_container\");\r\n            if (front_end_data.asynchronous_loading == \"off\") {\r\n                this.events();\r\n            } else {\r\n                return;\r\n            }\r\n        }\r\n        events() {\r\n            this.get_frontend_table();\r\n        }\r\n\r\n        get_frontend_table() {\r\n            $.each(this.frontend_table, function (i, elem) {\r\n                let table_settings = JSON.parse($(elem).attr(\"data-table_settings\"));\r\n\r\n                let table_name = $(elem).attr(\"data-table_name\");\r\n                let sheetUrl = $(elem).attr(\"data-url\");\r\n\r\n                let table_obj = new Global_Table_Config();\r\n\r\n                table_obj.table_configuration($, i, elem, table_name, table_settings, sheetUrl);\r\n\r\n                let scrollerContainer = $(elem).find(\".dataTables_scroll\");\r\n                let scrollerElement = $(elem).find(\".dataTables_scrollBody\");\r\n\r\n                    \r\n                \r\n                // Fix extra header when clicking the sort icon and has header merge\r\n                if (scrollerElement) {\r\n\r\n                    //Extra header issue fix it how it was before when click the sort icon and has header merge\r\n                    function handleCommonActions(theadElement) {\r\n                        console.clear(); // Clearing a few basic logs that are not needed to show\r\n                        if (theadElement) {\r\n                            // Select all tr elements within theadElement\r\n                            var trElements = theadElement.querySelectorAll('tr');\r\n                    \r\n                            // Iterate through each trElement\r\n                            trElements.forEach(function(trElement) {\r\n                                // Apply height style to each trElement\r\n                                trElement.style.height = '0px';\r\n                    \r\n                                // Select all th elements within theadElement\r\n                                var thElements = trElement.querySelectorAll('th');\r\n                    \r\n                                // Iterate through each thElement\r\n                                thElements.forEach(function(thElement) {\r\n                                    // Create a new div element with the required styles\r\n                                    var divElement = document.createElement('div');\r\n                                    divElement.className = 'dataTables_sizing';\r\n                                    divElement.style.height = '0px';\r\n                                    divElement.style.overflow = 'hidden';\r\n                                    divElement.innerText = thElement.innerText; // Copy the text content\r\n                    \r\n                                    // Empty the thElement and append the divElement\r\n                                    thElement.innerHTML = '';\r\n                                    thElement.appendChild(divElement);\r\n                    \r\n                                    // Apply styles to each thElement\r\n                                    thElement.style.paddingTop = '0px';\r\n                                    thElement.style.paddingBottom = '0px';\r\n                                    thElement.style.borderTopWidth = '0px';\r\n                                    thElement.style.borderBottomWidth = '0px';\r\n                                    thElement.style.height = '0px';\r\n                                    thElement.style.textAlign = 'center';\r\n                                    // thElement.style.display = 'none';\r\n                                });\r\n                            });\r\n                        }\r\n                    }\r\n                    \r\n                    function handlePagination() {\r\n                        var createTablesPaginate = document.getElementById('create_tables_paginate');\r\n                        if (createTablesPaginate) {\r\n                            var container = createTablesPaginate.closest(\".gswpts_tables_container\");\r\n                            var scrollBody = container.querySelector('.dataTables_scrollBody');\r\n                            var thead = scrollBody.querySelector('thead');\r\n                            handleCommonActions(thead);\r\n                        }\r\n                    }\r\n\r\n\r\n                    var tableHeaders = document.querySelectorAll('.thead-item[data-merge]');\r\n                    tableHeaders.forEach(function (header) {\r\n                        // Check if the current header has the data-merge attribute.\r\n                        var dataMerge = header.getAttribute('data-merge');\r\n                        if (dataMerge) {\r\n                            var sortingElements = document.querySelectorAll('.sorting');\r\n                            var dataTablesLength = document.querySelectorAll('.dataTables_length');\r\n                            var dataTables_filter = document.querySelectorAll('.dataTables_filter');\r\n                            var createTablesFilterInputs = document.querySelectorAll('.dataTables_filter input');\r\n                            var paginateContainer = document.getElementById('create_tables_paginate');\r\n\r\n                            // Add a click event listener to each sorting element\r\n                            sortingElements.forEach(function (sortingElement) {\r\n                                sortingElement.addEventListener('click', function () {\r\n                                    // Find the .dataTables_scrollBody element within the same container\r\n                                    var container = sortingElement.closest(\".gswpts_tables_container\");\r\n                                    var scrollBody = container.querySelector('.dataTables_scrollBody');\r\n                                    // Find the <thead> element within the .dataTables_scrollBody\r\n                                    var thead = scrollBody.querySelector('thead');\r\n                                    handleCommonActions(thead);\r\n                                });\r\n                            });\r\n                        \r\n                            // Add a click event listener to each dataTablesLength element\r\n                            dataTablesLength.forEach(function (LengthElement) {\r\n                                LengthElement.addEventListener('click', function () {\r\n                                    var container = LengthElement.closest(\".gswpts_tables_container\");\r\n                                    var scrollBody = container.querySelector('.dataTables_scrollBody');\r\n                                    var thead = scrollBody.querySelector('thead');\r\n                                    handleCommonActions(thead);\r\n                                    // console.log(\"click on dataTablesLength\");\r\n                                });\r\n                            });\r\n                        \r\n                            // Add a click event listener to each dataTables_filter element\r\n                            dataTables_filter.forEach(function (FilterElement) {\r\n                                FilterElement.addEventListener('click', function () {\r\n                                    var container = FilterElement.closest(\".gswpts_tables_container\");\r\n                                    var scrollBody = container.querySelector('.dataTables_scrollBody');\r\n                                    var thead = scrollBody.querySelector('thead');\r\n                                    handleCommonActions(thead);\r\n                                    // console.log(\"click on dataTables_filter\");\r\n                                });\r\n                            });\r\n        \r\n                            createTablesFilterInputs.forEach(function (createTablesFilterInput) {\r\n                                createTablesFilterInput.addEventListener('input',function () {\r\n                                    var container = createTablesFilterInput.closest(\".gswpts_tables_container\");\r\n                                    var scrollBody = container.querySelector('.dataTables_scrollBody');\r\n                                    var thead = scrollBody.querySelector('thead');\r\n                                    handleCommonActions(thead);\r\n                                    // console.log(\"click on handleSearchFilter\");\r\n                                });\r\n                            });\r\n\r\n                            if (paginateContainer) {\r\n                                paginateContainer.addEventListener('click', function (event) {\r\n                                    // Check if the clicked element is a paginate button\r\n                                    if (event.target.classList.contains('paginate_button')) {\r\n                                        handlePagination();\r\n                                        // console.log(\"click on paginate\");\r\n                                    }\r\n                                });\r\n                            }   \r\n                        }\r\n                    });\r\n                    \r\n                }\r\n\r\n                if (front_end_data.isProActive) {\r\n                    if (table_settings?.cursor_behavior == \"left_right\") {\r\n                        // Add functionality of scrolling the table.\r\n                        table_obj.bindDragScroll(scrollerContainer, scrollerElement);\r\n                    }\r\n                    table_obj.addGrabCursonOnMouseDown($(elem).find(\"#create_tables\"));\r\n                }\r\n                \r\n                // Additional code for handling merged cells and text alignment\r\n                table_obj.handleMergedCells($, elem);\r\n                table_obj.loadThemeStyle($, elem);\r\n                // table_obj.defaultThemepaginationStyle($, elem);\r\n                table_obj.handleHeaderMergedCells($, elem);\r\n\r\n                \r\n                /* if (table_settings?.merged_support) {\r\n                    table_obj.handleTableWidth($, $(elem).find(\".gswpts_tables_container\"));\r\n                } */\r\n\r\n                setInterval(function() {\r\n                    table_obj.handleTableWidth($, $(elem).find(\".gswpts_tables_container\"));\r\n                }, 600);\r\n\r\n                /* $(window).on('resize', function () {\r\n                    table_obj.handleTableWidth($, $(elem).find(\".gswpts_tables_container\"));\r\n                }); */\r\n\r\n                table_obj.handlePaginations($, elem);\r\n\r\n                 // Disable sorting from the table\r\n                 if (table_settings?.hide_sorting_icon) {\r\n                    table_obj.handleSortingDisable($, $(elem).find(\".gswpts_tables_container\"));\r\n                }\r\n\r\n                if (table_settings?.table_view_mode === 'search-only-mode') {\r\n                    table_obj.handleSearchoptions($, $(elem).find(\".gswpts_tables_container\"), table_settings.search_by);\r\n                }\r\n                \r\n                // Condition to load the search button and disable search in type and show search value once search button click or enter press        \r\n                if (table_settings?.table_view_mode === 'search-only-mode' && table_settings?.search_by === 'search-by-press') {\r\n                    table_obj.CreateSearchoptions($, $(elem).find(\".gswpts_tables_container\"), table_settings.search_by);\r\n                }\r\n\r\n                // Sticky feature development\r\n                if (table_obj.isProPluginActive()) {\r\n                    if (table_settings?.enable_fixed_columns || table_settings?.fixed_headers) {\r\n                        table_obj.handleSticky($, $(elem).find(\".gswpts_tables_container\"), table_settings.enable_fixed_columns, table_settings.left_columns, table_settings.right_columns, table_settings.fixed_headers, table_settings.header_offset );\r\n                    }\r\n                }\r\n                    \r\n\r\n                table_obj.clearOverflow();\r\n            });\r\n        }\r\n    }\r\n\r\n    new Data_Tables_Default();\r\n});\r\n\r\n"],"names":["aiSummary","AISummary","this","isGenerating","summaryCache","Map","$","jQuery","init","bindEvents","document","on","e","preventDefault","button","currentTarget","tableId","data","position","tableElement","closest","find","length","generateInlineSummary","closeInlineSummary","first","attr","includes","showRegeneratingStateInline","showRegeneratingInInline","console","error","showInlineSummaryError","hideRegeneratingStateInline","forceRegenerate","enableCache","getTableSpecificSetting","cacheKey","generateCacheKey","cacheKeys","Array","from","keys","forEach","key","startsWith","Date","now","has","showInlineSummary","get","showGeneratingProgressInline","tableData","collectAllTableDataFromDataTable","table_settings","window","swptlsTableSettings","tableSettings","getTableSettings","requestAISummaryInline","headers","rows","title","totalVisibleRows","tableStructure","titleElement","text","trim","dataTable","isDataTableReady","fn","DataTable","isDataTable","count","each","index","element","headerText","push","type","detectColumnType","collectCurrentTableData","allData","rowData","row","i","cellText","innerHTML","textContent","String","$temp","html","img","altText","link","substring","totalColumns","sampleSize","hasImages","hasLinks","hasPagination","visibleRows","cellIndex","cellElement","columnIndex","cells","slice","hasNumbers","hasDates","isNaN","parseFloat","isFinite","isDateString","str","parse","match","maxRows","firstRows","Math","floor","lastRows","middleRows","sampled","middleStart","middleEnd","step","max","container","defaultAISettings","show_table_prompt_fields","ask_ai_placeholder","ask_ai_button_label","ask_ai_heading","backend_ai_summary","backend_summary_exists","show_regenerate_button","enable_backend_ai_trigger","edit_summary_content","show_summary_in_table","summary_prompt","enable_ai_cache","enable_ai_summary","tableSpecificSettings","tableSettingsJson","JSON","warn","hasTitle","hasFilters","theme","className","ai_settings","settingKey","defaults","hasOwnProperty","undefined","formData","FormData","append","stringify","nonce","front_end_data","ajaxUrl","admin_ajax","fetch","method","body","then","response","ok","Error","status","statusText","json","success","summary","set","findTableElement","originalCacheKey","message","error_type","errorMessage","name","hideGeneratingProgressInline","regenerateBtn","hasClass","tableContent","contentHash","simpleHash","hash","charCodeAt","abs","toString","prop","addClass","originalHtml","removeClass","replace","dateString","date","diffMs","diffMins","toLocaleDateString","summaryData","resultContainer","formatSummary","showRegenerateButton","show","hide","slideDown","scrollTarget","animate","scrollTop","offset","top","resultContainerAbove","resultContainerBelow","slideUp","errorData","swptlsAISummary","ready","events","showFirstTabContent","target","parents","inputID","lightbox","lightboxId","isOpen","currentImage","createLightboxHTML","remove","lightboxHTML","self","stopPropagation","imageSrc","openLightbox","closeLightbox","$lightbox","$lightboxImage","$loading","fadeIn","Image","onload","onerror","setTimeout","src","fadeOut","log","swptlsImageLightbox","tablePrompt","TablePrompt","isProcessing","promptCache","dt","settings","swptlsTablePromptEventsbound","promptText","val","processPrompt","showNotification","which","click","clearPromptResponse","placeholder","buttonLabel","heading","promptInput","promptButton","showProcessingState","requestAIPromptResponse","showError","collectVisibleTableData","showPromptResponse","hideProcessingState","sendBtn","customButtonLabel","responseData","originalPrompt","responseContainer","metadata","generated_at","tokens_used","model_used","responseContent","responseMeta","formatResponse","scrollIntoView","behavior","block","empty","notification","hideNotification","showPromptFields","askAiPlaceholder","askAiButtonLabel","askAiHeading","updatePromptInterface","swptlsTablePrompt","swptlsBatchLoader","originalAppendBatchData","appendBatchData","call","reinitialize","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","Global_Table_Config","table_style","PageStyles","import_styles_theme_colors","paginationStyle","strings","previous","next","last","toUpperCase","PaginationTailwindBack2","PaginationTainwildNext2","PaginationTailwindBack1","PaginationTainwildNext1","elem","table_name","sheetUrl","dom","show_x_entries","search_bar","show_info_block","pagination","isProPluginActive","changeRedirectionType","redirection_type","changeCellFormat","cell_format","table_view_mode","table_obj","table","setupCustomSearch","setPdfUrl","reveal_export_btns","swap_input_filter","swap_bottom_options","initializeForTable","show_ai_summary_button","enable_column_specific_search","tableNode","node","searchFunction","dataIndex","nTable","searchTerm","toLowerCase","table_search_column","colIndex","ext","search","swptlsSearchFunctions","links","formatStyle","tableCell","cell","indexOf","splice","clear","isProActive","url","split","gridID","spreadsheetID","getSpreadsheetID","getGridID","pdfUrl","iconsURL","filePdf","allow_sorting","moment","table_object","order","allow_singleshort","columnnumber","sorting_mode","responsive","lengthMenu","language","searchPlaceholder","info","emptyTable","zeroRecords","paginate","getPaginateSettings","pagingType","pageLength","parseInt","default_rows_per_page","lengthChange","ordering","destroy","scrollX","numberOfColumns","buttons","curlyBrackets","action","config","exportData","fileSave","Blob","titleAttr","fileCSV","extend","fileExcel","printIcon","copySolid","hide_on_desktop_col","screenSize","hide_on_mobile_col","hide_column","columnDefs","hideColumnByScreen","hide_column_mobile","vertical_scrolling","scrollY","arrayValues","targets","convertArrayStringToInteger","visible","searchable","screen","width","arr","map","export_btns","table_export","btn","swap_filter_inputs","css","style","flex_direction","table_info_style","margin_left","margin_right","table_paginate_style","bottom_option_style","$arg","tableHeaders","header","dataMerge","numCols","nextCell","j","targetIndex","targetCell","join","setConsistentTableWidth","random","containerWidth","rowWidth","getBoundingClientRect","originalTableWidths","targetWidth","prevObject","off","updatePaginationContent","prevButton","nextButton","prevSpan","content","nextSpan","tablePage","sortingElements","querySelectorAll","dataTablesLength","dataTables_filter","createTablesFilterInputs","sortingElement","addEventListener","LengthElement","FilterElement","createTablesFilterInput","styleString","regex","themeName","gswptsCount","tableElem","backgroundColor","textColor","tableStyles","paginationColors","RegExp","hexToRgba","hex","opacity","bigint","g","b","defaultPaginationColor","simplePaginationColor","styleContent","styleElement","createElement","id","head","appendChild","propertyName","getCustomPropertyValue","sortingHeaders","search_by","wrapper","searchInput","tableContainer","paginationContainer","toggleTableVisibility","event","enable_fixed_columns","left_columns","right_columns","enable_fixed_headers","header_offset","bodyElem","scrollElem","zIndex","boxShadow","leftWidth","columnWidth","outerWidth","left","parent","children","rightWidth","reverse","reverseIndex","right","filter_input","unbind","search_button","draw","clear_button","keypress","test","navigator","userAgent","detectBrowser","tableScrollBody","parentElement","classList","contains","overflow","height","maxHeight","documentMode","tableCells","innerText","$container","$scroller","$window","x","x2","y2","t","move","evt","_x","pageX","deltaX","pageY","scrollLeft","up","deltaT","deltaY","stop","c","d","sqrt","originalEvent","scrollWidth","offsetWidth","dir","wheelDeltaX","mousedown","cursor","mouseup","frontend_table","asynchronous_loading","get_frontend_table","ajax","res","tableClass","responsive_style","import_styles","show_title","output","source_url","table_configuration","scrollerContainer","scrollerElement","handleCommonActions","theadElement","trElement","thElement","divElement","paddingTop","paddingBottom","borderTopWidth","borderBottomWidth","textAlign","getAttribute","paginateContainer","getElementById","thead","querySelector","createTablesPaginate","handlePagination","handleMergedCells","handleHeaderMergedCells","loadThemeStyle","cursor_behavior","bindDragScroll","addGrabCursonOnMouseDown","setInterval","handleTableWidth","handlePaginations","hide_sorting_icon","handleSortingDisable","handleSearchoptions","CreateSearchoptions","fixed_headers","handleSticky","clearOverflow","tableRows","verticalMergeFound","rowspan","err","alert"],"sourceRoot":""}